import{J as Q,K as x,T as W,r as I,L as X,M as Z,N as M,k as P,i as D,w,a as F,o as n,f as v,e as d,d as y,y as V,b as C,H as _,g as f,m as e,n as u,p as N,I as A,c as O,F as j,h as H,v as S,j as ee,O as te,l as G,P as $,q as R,s as L,t as T,x as q,Q as z,R as ae,U as ie,W as ne,X as se,Y as le,z as re,A as oe,Z as E,$ as ce,V as ve,E as B}from"./index-CiDOeLWu.js";import de from"./Footer-Cl0uJNCt.js";import ue from"./UserProfile-D0592Uz4.js";import{_ as pe}from"./I18n-JvdoClpI.js";import{C as me}from"./vue3-perfect-scrollbar-CkI1sh7d.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as fe}from"./VImg-B3pZFRRB.js";import"./VAvatar-D4RwvDF8.js";import"./VList-DapNqBtX.js";import"./VDivider-CuGzcyap.js";import"./VBadge-niKPlZ3g.js";const ge=Q({name:"TransitionExpand",setup(a,{slots:s}){const o=t=>{const b=getComputedStyle(t).width;t.style.width=b,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const h=getComputedStyle(t).height;t.style.width="",t.style.position="",t.style.visibility="",t.style.height="0px",getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=h})},l=t=>{t.style.height="auto"},i=t=>{const b=getComputedStyle(t).height;t.style.height=b,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height="0px"})};return()=>x(x(W),{name:"expand",onEnter:o,onAfterEnter:l,onLeave:i},()=>{var t;return(t=s.default)==null?void 0:t.call(s)})}}),he=K(ge,[["__scopeId","data-v-ade5ab13"]]),ye={class:"nav-header"},Ne={class:"header-action"},be={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(a){const s=a,o=I(),l=X(o);Z(M,l);const i=P(),t=g=>"heading"in g?Te:"children"in g?ke:J,b=D();w(()=>b.name,()=>{s.toggleIsOverlayNavActive(!1)});const h=I(!1),p=g=>h.value=g,k=g=>{h.value=g.target.scrollTop>0};return i.isVerticalNavMini(l),(g,r)=>{const m=F("RouterLink");return n(),v(f(s.tag),{ref_key:"refNav",ref:o,class:S([[{"overlay-nav":e(i).isLessThanOverlayNavBreakpoint,hovered:e(l),visible:a.isOverlayNavActive,scrolled:e(h)}],"layout-vertical-nav"]),"data-allow-mismatch":""},{default:d(()=>[y("div",ye,[V(g.$slots,"nav-header",{},()=>[C(m,{class:"app-logo app-title-wrapper",to:"/"},{default:d(()=>[C(fe,{width:200,src:"/logo_mkb.svg"})]),_:1}),y("div",Ne,[_((n(),v(f(e(u).app.iconRenderer||"div"),N({class:[e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-unpin"]},e(u).icons.verticalNavUnPinned,{onClick:r[0]||(r[0]=c=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[A,e(i).isVerticalNavCollapsed]]),_((n(),v(f(e(u).app.iconRenderer||"div"),N({class:[!e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-pin"]},e(u).icons.verticalNavPinned,{onClick:r[1]||(r[1]=c=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[A,!e(i).isVerticalNavCollapsed]]),(n(),v(f(e(u).app.iconRenderer||"div"),N({class:"d-lg-none"},e(u).icons.close,{onClick:r[2]||(r[2]=c=>a.toggleIsOverlayNavActive(!1))}),null,16))])],!0)]),V(g.$slots,"before-nav-items",{},()=>[r[3]||(r[3]=y("div",{class:"vertical-nav-items-shadow"},null,-1))],!0),V(g.$slots,"nav-items",{updateIsVerticalNavScrolled:p},()=>[(n(),v(e(me),{key:e(i).isAppRTL,options:{wheelPropagation:!1},class:"nav-items",tag:"ul",onPsScrollY:k},{default:d(()=>[(n(!0),O(j,null,H(a.navItems,(c,Y)=>(n(),v(f(t(c)),{key:Y,item:c},null,8,["item"]))),128))]),_:1}))],!0),V(g.$slots,"after-nav-items",{},void 0,!0)]),_:3},8,["class"])}}},Ce=K(be,[["__scopeId","data-v-8a1b73d9"]]),Ve={class:"nav-group-children"},ke=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(a){const s=a,o=D(),l=ee(),i=P(),t=i.isVerticalNavMini(),b=te(M,I(!1)),h=I(!1),p=I(!1),k=r=>r.some(m=>{let c=$.value.includes(m.title);return"children"in m&&(c=k(m.children)||c),c}),g=r=>{r.forEach(m=>{"children"in m&&g(m.children),$.value=$.value.filter(c=>c!==m.title)})};return w(()=>o.path,()=>{const r=G(s.item.children,l);p.value=r&&!i.isVerticalNavMini(b).value,h.value=r},{immediate:!0}),w(p,r=>{const m=$.value.indexOf(s.item.title);r&&m===-1?$.value.push(s.item.title):!r&&m!==-1&&($.value.splice(m,1),g(s.item.children))},{immediate:!0}),w($,r=>{if(r.at(-1)===s.item.title)return;const c=G(s.item.children,l);c||k(s.item.children)||(p.value=c,h.value=c)},{deep:!0}),w(i.isVerticalNavMini(b),r=>{p.value=r?!1:h.value}),(r,m)=>(n(),O("li",{class:S(["nav-group",[{active:e(h),open:e(p),disabled:a.item.disable}]])},[y("div",{class:"nav-group-label",onClick:m[0]||(m[0]=c=>p.value=!e(p))},[(n(),v(f(e(u).app.iconRenderer||"div"),N(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(n(),v(f(z),{name:"transition-slide-x"},{default:d(()=>[_((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N(e(R)(a.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:d(()=>[L(T(a.item.title),1)]),_:1},16)),[[A,!e(t)]]),a.item.badgeContent?_((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:0},e(R)(a.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",a.item.badgeClass]}),{default:d(()=>[L(T(a.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(t)]]):q("",!0),_((n(),v(f(e(u).app.iconRenderer||"div"),N(e(u).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[A,!e(t)]])]),_:1}))]),C(e(he),null,{default:d(()=>[_(y("ul",Ve,[(n(!0),O(j,null,H(a.item.children,c=>(n(),v(f("children"in c?"VerticalNavGroup":e(J)),{key:c.title,item:c},null,8,["item"]))),128))],512),[[A,e(p)]])]),_:1})],2))}}),_e={class:"layout-content-wrapper"},Ae={class:"navbar-content-container"},$e={class:"layout-page-content"},Ie={class:"page-content-container"},we={class:"layout-footer"},Se={class:"footer-content-container"},Oe={__name:"VerticalNavLayout",props:{navItems:{type:null,required:!0},verticalNavAttrs:{type:Object,required:!1,default:()=>({})}},setup(a){const s=a,{width:o}=ae(),l=P(),i=I(!1),t=I(!1),b=ie(i);ne(i,t),w(o,()=>{!l.isLessThanOverlayNavBreakpoint&&t.value&&(t.value=!1)});const h=se(()=>{const p=le(s,"verticalNavAttrs"),{wrapper:k,wrapperProps:g,...r}=p.value;return{verticalNavWrapper:k,verticalNavWrapperProps:g,additionalVerticalNavAttrs:r}});return(p,k)=>(n(),O("div",{class:S([e(l)._layoutClasses,"layout-wrapper"]),"data-allow-mismatch":""},[(n(),v(f(e(h).verticalNavWrapper?e(h).verticalNavWrapper:"div"),N({class:"vertical-nav-wrapper"},e(h).verticalNavWrapperProps),{default:d(()=>[C(e(Ce),N({"is-overlay-nav-active":e(i),"nav-items":s.navItems,"toggle-is-overlay-nav-active":e(b)},{...e(h).additionalVerticalNavAttrs}),{"nav-header":d(()=>[V(p.$slots,"vertical-nav-header")]),"before-nav-items":d(()=>[V(p.$slots,"before-vertical-nav-items")]),_:3},16,["is-overlay-nav-active","nav-items","toggle-is-overlay-nav-active"])]),_:3},16)),y("div",_e,[y("header",{class:S([[{"navbar-blur":e(l).isNavbarBlurEnabled}],"layout-navbar"])},[y("div",Ae,[V(p.$slots,"navbar",{toggleVerticalOverlayNavActive:e(b)})])],2),y("main",$e,[y("div",Ie,[V(p.$slots,"default")])]),y("footer",we,[y("div",Se,[V(p.$slots,"footer")])])]),y("div",{class:S([[{visible:e(t)}],"layout-overlay"]),onClick:k[0]||(k[0]=()=>{t.value=!e(t)})},null,2)],2))}},J={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(a){const o=P().isVerticalNavMini();return(l,i)=>(n(),O("li",{class:S(["nav-link",{disabled:a.item.disable}])},[(n(),v(f(a.item.to?"RouterLink":"a"),N(e(oe)(a.item),{class:{"router-link-active router-link-exact-active":e(re)(a.item,l.$router)}}),{default:d(()=>[(n(),v(f(e(u).app.iconRenderer||"div"),N(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),C(z,{name:"transition-slide-x"},{default:d(()=>[_((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:"title",class:"nav-item-title"},e(R)(a.item.title,"span")),{default:d(()=>[L(T(a.item.title),1)]),_:1},16)),[[A,!e(o)]]),a.item.badgeContent?_((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:"badge",class:["nav-item-badge",a.item.badgeClass]},e(R)(a.item.badgeContent,"span")),{default:d(()=>[L(T(a.item.badgeContent),1)]),_:1},16,["class"])),[[A,!e(o)]]):q("",!0)]),_:1})]),_:1},16,["class"]))],2))}},Re={class:"nav-section-title"},Le={class:"title-wrapper"},Te={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(a){const o=P().isVerticalNavMini();return(l,i)=>(n(),O("li",Re,[y("div",Le,[C(W,{name:"vertical-nav-section-title",mode:"out-in"},{default:d(()=>[(n(),v(f(e(o)?e(u).app.iconRenderer:e(u).app.i18n.enable?"i18n-t":"span"),N({key:e(o),class:e(o)?"placeholder-icon":"title-text"},{...e(u).icons.sectionTitlePlaceholder,...e(R)(a.item.heading,"span")}),{default:d(()=>[L(T(e(o)?null:a.item.heading),1)]),_:1},16,["class"]))]),_:1})])]))}},Pe=[{title:"Asosiy",to:{name:"root"},icon:{icon:"tabler-smart-home"}},{title:"Departaments",to:{name:"host-depart"},icon:{icon:"tabler-building-bank"}},{title:"Doctors",to:{name:"doctors-site"},icon:{icon:"mdi-folder-wrench-outline"}},{title:"RBAC",to:{name:"rbac"}}],U=a=>{var o;const s=JSON.parse(localStorage.getItem("user_data"));return(o=s==null?void 0:s.data)==null||o.username,a.filter(l=>{const i=l.permission||null;return l.title==="RBAC"?!0:"children"in l&&Array.isArray(l.children)?(l.children=U(l.children),l.children.length>0||(i?E(i):!0)):i?E(i):!0})},Be={class:"d-flex h-100 align-center"},Ke={__name:"DefaultLayoutWithVerticalNav",setup(a){return(s,o)=>{const l=F("IconBtn");return n(),v(e(Oe),{"nav-items":e(U)(e(Pe))},{navbar:d(({toggleVerticalOverlayNavActive:i})=>{var t;return[y("div",Be,[C(l,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:b=>i(!0)},{default:d(()=>[C(ce,{icon:"tabler-menu-2",size:"26"})]),_:2},1032,["onClick"]),C(ve),e(B).app.i18n.enable&&((t=e(B).app.i18n.langConfig)!=null&&t.length)?(n(),v(pe,{key:0,languages:e(B).app.i18n.langConfig},null,8,["languages"])):q("",!0),C(ue)])]}),footer:d(()=>[C(de)]),default:d(()=>[V(s.$slots,"default")]),_:3},8,["nav-items"])}}};export{Ke as default};
