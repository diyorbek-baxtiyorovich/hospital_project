import{J as Y,K as q,T as W,r as I,L as Q,M as Z,N as M,k as P,i as j,w,a as F,o as n,f as v,e as d,d as y,y as k,b as C,H as A,g as f,m as e,n as u,p as N,I as _,c as O,F as z,h as D,v as S,j as ee,O as te,l as G,P as $,q as R,s as L,t as T,x as B,Q as H,R as ae,U as ie,W as ne,X as se,Y as le,z as oe,A as re,Z as E,$ as ce,V as ve,E as x}from"./index-BvbsO_I8.js";import de from"./Footer-BiTY8Z7v.js";import ue from"./UserProfile-Du71ELJa.js";import{_ as pe}from"./I18n-CwrOxpLG.js";import{C as me}from"./vue3-perfect-scrollbar-O9xWnS9X.js";import{_ as K}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{V as fe}from"./VImg-RGK-Ky2G.js";import"./VAvatar-IpkLQ1jE.js";import"./VList-CL5_3vJT.js";import"./VDivider-e1ffAdB5.js";import"./VBadge-CNyweI9m.js";const ge=Y({name:"TransitionExpand",setup(a,{slots:s}){const r=t=>{const b=getComputedStyle(t).width;t.style.width=b,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const h=getComputedStyle(t).height;t.style.width="",t.style.position="",t.style.visibility="",t.style.height="0px",getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=h})},l=t=>{t.style.height="auto"},i=t=>{const b=getComputedStyle(t).height;t.style.height=b,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height="0px"})};return()=>q(q(W),{name:"expand",onEnter:r,onAfterEnter:l,onLeave:i},()=>{var t;return(t=s.default)==null?void 0:t.call(s)})}}),he=K(ge,[["__scopeId","data-v-ade5ab13"]]),ye={class:"nav-header"},Ne={class:"header-action"},be={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(a){const s=a,r=I(),l=Q(r);Z(M,l);const i=P(),t=g=>"heading"in g?Te:"children"in g?Ve:J,b=j();w(()=>b.name,()=>{s.toggleIsOverlayNavActive(!1)});const h=I(!1),p=g=>h.value=g,V=g=>{h.value=g.target.scrollTop>0};return i.isVerticalNavMini(l),(g,o)=>{const m=F("RouterLink");return n(),v(f(s.tag),{ref_key:"refNav",ref:r,class:S([[{"overlay-nav":e(i).isLessThanOverlayNavBreakpoint,hovered:e(l),visible:a.isOverlayNavActive,scrolled:e(h)}],"layout-vertical-nav"]),"data-allow-mismatch":""},{default:d(()=>[y("div",ye,[k(g.$slots,"nav-header",{},()=>[C(m,{class:"app-logo app-title-wrapper",to:"/"},{default:d(()=>[C(fe,{width:200,src:"/logo_mkb.svg"})]),_:1}),y("div",Ne,[A((n(),v(f(e(u).app.iconRenderer||"div"),N({class:[e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-unpin"]},e(u).icons.verticalNavUnPinned,{onClick:o[0]||(o[0]=c=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[_,e(i).isVerticalNavCollapsed]]),A((n(),v(f(e(u).app.iconRenderer||"div"),N({class:[!e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-pin"]},e(u).icons.verticalNavPinned,{onClick:o[1]||(o[1]=c=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[_,!e(i).isVerticalNavCollapsed]]),(n(),v(f(e(u).app.iconRenderer||"div"),N({class:"d-lg-none"},e(u).icons.close,{onClick:o[2]||(o[2]=c=>a.toggleIsOverlayNavActive(!1))}),null,16))])],!0)]),k(g.$slots,"before-nav-items",{},()=>[o[3]||(o[3]=y("div",{class:"vertical-nav-items-shadow"},null,-1))],!0),k(g.$slots,"nav-items",{updateIsVerticalNavScrolled:p},()=>[(n(),v(e(me),{key:e(i).isAppRTL,options:{wheelPropagation:!1},class:"nav-items",tag:"ul",onPsScrollY:V},{default:d(()=>[(n(!0),O(z,null,D(a.navItems,(c,X)=>(n(),v(f(t(c)),{key:X,item:c},null,8,["item"]))),128))]),_:1}))],!0),k(g.$slots,"after-nav-items",{},void 0,!0)]),_:3},8,["class"])}}},Ce=K(be,[["__scopeId","data-v-8a1b73d9"]]),ke={class:"nav-group-children"},Ve=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(a){const s=a,r=j(),l=ee(),i=P(),t=i.isVerticalNavMini(),b=te(M,I(!1)),h=I(!1),p=I(!1),V=o=>o.some(m=>{let c=$.value.includes(m.title);return"children"in m&&(c=V(m.children)||c),c}),g=o=>{o.forEach(m=>{"children"in m&&g(m.children),$.value=$.value.filter(c=>c!==m.title)})};return w(()=>r.path,()=>{const o=G(s.item.children,l);p.value=o&&!i.isVerticalNavMini(b).value,h.value=o},{immediate:!0}),w(p,o=>{const m=$.value.indexOf(s.item.title);o&&m===-1?$.value.push(s.item.title):!o&&m!==-1&&($.value.splice(m,1),g(s.item.children))},{immediate:!0}),w($,o=>{if(o.at(-1)===s.item.title)return;const c=G(s.item.children,l);c||V(s.item.children)||(p.value=c,h.value=c)},{deep:!0}),w(i.isVerticalNavMini(b),o=>{p.value=o?!1:h.value}),(o,m)=>(n(),O("li",{class:S(["nav-group",[{active:e(h),open:e(p),disabled:a.item.disable}]])},[y("div",{class:"nav-group-label",onClick:m[0]||(m[0]=c=>p.value=!e(p))},[(n(),v(f(e(u).app.iconRenderer||"div"),N(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(n(),v(f(H),{name:"transition-slide-x"},{default:d(()=>[A((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N(e(R)(a.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:d(()=>[L(T(a.item.title),1)]),_:1},16)),[[_,!e(t)]]),a.item.badgeContent?A((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:0},e(R)(a.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",a.item.badgeClass]}),{default:d(()=>[L(T(a.item.badgeContent),1)]),_:1},16,["class"])),[[_,!e(t)]]):B("",!0),A((n(),v(f(e(u).app.iconRenderer||"div"),N(e(u).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[_,!e(t)]])]),_:1}))]),C(e(he),null,{default:d(()=>[A(y("ul",ke,[(n(!0),O(z,null,D(a.item.children,c=>(n(),v(f("children"in c?"VerticalNavGroup":e(J)),{key:c.title,item:c},null,8,["item"]))),128))],512),[[_,e(p)]])]),_:1})],2))}}),Ae={class:"layout-content-wrapper"},_e={class:"navbar-content-container"},$e={class:"layout-page-content"},Ie={class:"page-content-container"},we={class:"layout-footer"},Se={class:"footer-content-container"},Oe={__name:"VerticalNavLayout",props:{navItems:{type:null,required:!0},verticalNavAttrs:{type:Object,required:!1,default:()=>({})}},setup(a){const s=a,{width:r}=ae(),l=P(),i=I(!1),t=I(!1),b=ie(i);ne(i,t),w(r,()=>{!l.isLessThanOverlayNavBreakpoint&&t.value&&(t.value=!1)});const h=se(()=>{const p=le(s,"verticalNavAttrs"),{wrapper:V,wrapperProps:g,...o}=p.value;return{verticalNavWrapper:V,verticalNavWrapperProps:g,additionalVerticalNavAttrs:o}});return(p,V)=>(n(),O("div",{class:S([e(l)._layoutClasses,"layout-wrapper"]),"data-allow-mismatch":""},[(n(),v(f(e(h).verticalNavWrapper?e(h).verticalNavWrapper:"div"),N({class:"vertical-nav-wrapper"},e(h).verticalNavWrapperProps),{default:d(()=>[C(e(Ce),N({"is-overlay-nav-active":e(i),"nav-items":s.navItems,"toggle-is-overlay-nav-active":e(b)},{...e(h).additionalVerticalNavAttrs}),{"nav-header":d(()=>[k(p.$slots,"vertical-nav-header")]),"before-nav-items":d(()=>[k(p.$slots,"before-vertical-nav-items")]),_:3},16,["is-overlay-nav-active","nav-items","toggle-is-overlay-nav-active"])]),_:3},16)),y("div",Ae,[y("header",{class:S([[{"navbar-blur":e(l).isNavbarBlurEnabled}],"layout-navbar"])},[y("div",_e,[k(p.$slots,"navbar",{toggleVerticalOverlayNavActive:e(b)})])],2),y("main",$e,[y("div",Ie,[k(p.$slots,"default")])]),y("footer",we,[y("div",Se,[k(p.$slots,"footer")])])]),y("div",{class:S([[{visible:e(t)}],"layout-overlay"]),onClick:V[0]||(V[0]=()=>{t.value=!e(t)})},null,2)],2))}},J={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(a){const r=P().isVerticalNavMini();return(l,i)=>(n(),O("li",{class:S(["nav-link",{disabled:a.item.disable}])},[(n(),v(f(a.item.to?"RouterLink":"a"),N(e(re)(a.item),{class:{"router-link-active router-link-exact-active":e(oe)(a.item,l.$router)}}),{default:d(()=>[(n(),v(f(e(u).app.iconRenderer||"div"),N(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),C(H,{name:"transition-slide-x"},{default:d(()=>[A((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:"title",class:"nav-item-title"},e(R)(a.item.title,"span")),{default:d(()=>[L(T(a.item.title),1)]),_:1},16)),[[_,!e(r)]]),a.item.badgeContent?A((n(),v(f(e(u).app.i18n.enable?"i18n-t":"span"),N({key:"badge",class:["nav-item-badge",a.item.badgeClass]},e(R)(a.item.badgeContent,"span")),{default:d(()=>[L(T(a.item.badgeContent),1)]),_:1},16,["class"])),[[_,!e(r)]]):B("",!0)]),_:1})]),_:1},16,["class"]))],2))}},Re={class:"nav-section-title"},Le={class:"title-wrapper"},Te={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(a){const r=P().isVerticalNavMini();return(l,i)=>(n(),O("li",Re,[y("div",Le,[C(W,{name:"vertical-nav-section-title",mode:"out-in"},{default:d(()=>[(n(),v(f(e(r)?e(u).app.iconRenderer:e(u).app.i18n.enable?"i18n-t":"span"),N({key:e(r),class:e(r)?"placeholder-icon":"title-text"},{...e(u).icons.sectionTitlePlaceholder,...e(R)(a.item.heading,"span")}),{default:d(()=>[L(T(e(r)?null:a.item.heading),1)]),_:1},16,["class"]))]),_:1})])]))}},Pe=[{title:"Asosiy",to:{name:"root"},icon:{icon:"tabler-smart-home"}},{title:"Kredit portfeli",to:{name:"loan-portfolio"},icon:{icon:"tabler-building-bank"}},{title:"Mijozlar ro'yxati",to:{name:"clients"},icon:{icon:"mdi-account-multiple"}},{title:"Agentlar daromadlari",to:{name:"agents"},icon:{icon:"mdi-account-multiple"}},{title:"Struktura",to:{name:"region"},icon:{icon:"mdi-cog"},children:[{title:"Viloyat",to:{name:"region"},icon:{icon:"mdi-folder-wrench-outline"}},{title:"Lokal kod",to:{name:"local-code"},icon:{icon:"mdi-map"}},{title:"Departament",to:{name:"department"},icon:{icon:"mdi-map"}},{title:"Xodimla ro'yxati",to:{name:"user"},icon:{icon:"mdi-map"}}]},{title:"RBAC",to:{name:"rbac"}}],U=a=>{var r;const s=JSON.parse(localStorage.getItem("user_data"));return(r=s==null?void 0:s.data)==null||r.username,a.filter(l=>{const i=l.permission||null;return l.title==="RBAC"?!0:"children"in l&&Array.isArray(l.children)?(l.children=U(l.children),l.children.length>0||(i?E(i):!0)):i?E(i):!0})},xe={class:"d-flex h-100 align-center"},Ke={__name:"DefaultLayoutWithVerticalNav",setup(a){return(s,r)=>{const l=F("IconBtn");return n(),v(e(Oe),{"nav-items":e(U)(e(Pe))},{navbar:d(({toggleVerticalOverlayNavActive:i})=>{var t;return[y("div",xe,[C(l,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:b=>i(!0)},{default:d(()=>[C(ce,{icon:"tabler-menu-2",size:"26"})]),_:2},1032,["onClick"]),C(ve),e(x).app.i18n.enable&&((t=e(x).app.i18n.langConfig)!=null&&t.length)?(n(),v(pe,{key:0,languages:e(x).app.i18n.langConfig},null,8,["languages"])):B("",!0),C(ue)])]}),footer:d(()=>[C(de)]),default:d(()=>[k(s.$slots,"default")]),_:3},8,["nav-items"])}}};export{Ke as default};
