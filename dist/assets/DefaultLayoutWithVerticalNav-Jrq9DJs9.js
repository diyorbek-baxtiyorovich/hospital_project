import{J as X,K as G,T as M,r as $,L as Z,M as ee,N as F,k as B,i as j,w as S,a as H,o as s,f as v,e as d,d as h,y as C,b,m as e,c as I,x as q,H as k,g as m,n as u,p as y,I as _,F as z,h as D,v as O,j as te,O as ae,l as E,P as A,q as T,s as L,t as P,Q as K,R as ie,U as ne,W as se,X as le,Y as re,z as oe,A as ce,Z as W,$ as ve,V as de,E as x}from"./index-Psq43fdt.js";import ue from"./Footer-DrqCRW1R.js";import pe from"./UserProfile-DOJa-8o-.js";import{_ as me}from"./I18n-BeU73MSf.js";import{C as fe}from"./vue3-perfect-scrollbar-BufhQFY9.js";import{_ as J}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{l as ge}from"./logos-CQ9irULE.js";import{V as he}from"./VImg-Cq_Frsvh.js";import"./VAvatar-17awWU_I.js";import"./VList-C2r0kw-4.js";import"./VDivider-Cv06wpGJ.js";import"./VBadge-DzFyaIgK.js";const ye=X({name:"TransitionExpand",setup(a,{slots:l}){const c=t=>{const N=getComputedStyle(t).width;t.style.width=N,t.style.position="absolute",t.style.visibility="hidden",t.style.height="auto";const g=getComputedStyle(t).height;t.style.width="",t.style.position="",t.style.visibility="",t.style.height="0px",getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height=g})},r=t=>{t.style.height="auto"},i=t=>{const N=getComputedStyle(t).height;t.style.height=N,getComputedStyle(t).height,requestAnimationFrame(()=>{t.style.height="0px"})};return()=>G(G(M),{name:"expand",onEnter:c,onAfterEnter:r,onLeave:i},()=>{var t;return(t=l.default)==null?void 0:t.call(l)})}}),Ne=J(ye,[["__scopeId","data-v-ade5ab13"]]),be={class:"nav-header"},Ce={key:0,class:"app-logo-title"},Ve={class:"header-action"},ke={__name:"VerticalNav",props:{tag:{type:null,required:!1,default:"aside"},navItems:{type:null,required:!0},isOverlayNavActive:{type:Boolean,required:!0},toggleIsOverlayNavActive:{type:Function,required:!0}},setup(a){const l=a,c=$(),r=Z(c);ee(F,r);const i=B(),t=n=>"heading"in n?qe:"children"in n?$e:U,N=j();S(()=>N.name,()=>{l.toggleIsOverlayNavActive(!1)});const g=$(!1),p=n=>g.value=n,V=n=>{g.value=n.target.scrollTop>0},w=i.isVerticalNavMini(r);return(n,o)=>{const f=H("RouterLink");return s(),v(m(l.tag),{ref_key:"refNav",ref:c,class:O([[{"overlay-nav":e(i).isLessThanOverlayNavBreakpoint,hovered:e(r),visible:a.isOverlayNavActive,scrolled:e(g)}],"layout-vertical-nav"]),"data-allow-mismatch":""},{default:d(()=>[h("div",be,[C(n.$slots,"nav-header",{},()=>[b(f,{class:"app-logo app-title-wrapper",to:"/"},{default:d(()=>[b(he,{width:50,src:e(ge)},null,8,["src"]),e(w)?q("",!0):(s(),I("span",Ce,"ГУЗ"))]),_:1}),h("div",Ve,[k((s(),v(m(e(u).app.iconRenderer||"div"),y({class:[e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-unpin"]},e(u).icons.verticalNavUnPinned,{onClick:o[0]||(o[0]=R=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[_,e(i).isVerticalNavCollapsed]]),k((s(),v(m(e(u).app.iconRenderer||"div"),y({class:[!e(i).isVerticalNavCollapsed&&"d-lg-block","d-none nav-pin"]},e(u).icons.verticalNavPinned,{onClick:o[1]||(o[1]=R=>e(i).isVerticalNavCollapsed=!e(i).isVerticalNavCollapsed)}),null,16,["class"])),[[_,!e(i).isVerticalNavCollapsed]]),(s(),v(m(e(u).app.iconRenderer||"div"),y({class:"d-lg-none"},e(u).icons.close,{onClick:o[2]||(o[2]=R=>a.toggleIsOverlayNavActive(!1))}),null,16))])],!0)]),C(n.$slots,"before-nav-items",{},()=>[o[3]||(o[3]=h("div",{class:"vertical-nav-items-shadow"},null,-1))],!0),C(n.$slots,"nav-items",{updateIsVerticalNavScrolled:p},()=>[(s(),v(e(fe),{key:e(i).isAppRTL,options:{wheelPropagation:!1},class:"nav-items",tag:"ul",onPsScrollY:V},{default:d(()=>[(s(!0),I(z,null,D(a.navItems,(R,Q)=>(s(),v(m(t(R)),{key:Q,item:R},null,8,["item"]))),128))]),_:1}))],!0),C(n.$slots,"after-nav-items",{},void 0,!0)]),_:3},8,["class"])}}},_e=J(ke,[["__scopeId","data-v-c35fbba7"]]),Ae={class:"nav-group-children"},$e=Object.assign({name:"VerticalNavGroup"},{__name:"VerticalNavGroup",props:{item:{type:null,required:!0}},setup(a){const l=a,c=j(),r=te(),i=B(),t=i.isVerticalNavMini(),N=ae(F,$(!1)),g=$(!1),p=$(!1),V=n=>n.some(o=>{let f=A.value.includes(o.title);return"children"in o&&(f=V(o.children)||f),f}),w=n=>{n.forEach(o=>{"children"in o&&w(o.children),A.value=A.value.filter(f=>f!==o.title)})};return S(()=>c.path,()=>{const n=E(l.item.children,r);p.value=n&&!i.isVerticalNavMini(N).value,g.value=n},{immediate:!0}),S(p,n=>{const o=A.value.indexOf(l.item.title);n&&o===-1?A.value.push(l.item.title):!n&&o!==-1&&(A.value.splice(o,1),w(l.item.children))},{immediate:!0}),S(A,n=>{if(n.at(-1)===l.item.title)return;const f=E(l.item.children,r);f||V(l.item.children)||(p.value=f,g.value=f)},{deep:!0}),S(i.isVerticalNavMini(N),n=>{p.value=n?!1:g.value}),(n,o)=>(s(),I("li",{class:O(["nav-group",[{active:e(g),open:e(p),disabled:a.item.disable}]])},[h("div",{class:"nav-group-label",onClick:o[0]||(o[0]=f=>p.value=!e(p))},[(s(),v(m(e(u).app.iconRenderer||"div"),y(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),(s(),v(m(K),{name:"transition-slide-x"},{default:d(()=>[k((s(),v(m(e(u).app.i18n.enable?"i18n-t":"span"),y(e(T)(a.item.title,"span"),{key:"title",class:"nav-item-title"}),{default:d(()=>[L(P(a.item.title),1)]),_:1},16)),[[_,!e(t)]]),a.item.badgeContent?k((s(),v(m(e(u).app.i18n.enable?"i18n-t":"span"),y({key:0},e(T)(a.item.badgeContent,"span"),{key:"badge",class:["nav-item-badge",a.item.badgeClass]}),{default:d(()=>[L(P(a.item.badgeContent),1)]),_:1},16,["class"])),[[_,!e(t)]]):q("",!0),k((s(),v(m(e(u).app.iconRenderer||"div"),y(e(u).icons.chevronRight,{key:"arrow",class:"nav-group-arrow"}),null,16)),[[_,!e(t)]])]),_:1}))]),b(e(Ne),null,{default:d(()=>[k(h("ul",Ae,[(s(!0),I(z,null,D(a.item.children,f=>(s(),v(m("children"in f?"VerticalNavGroup":e(U)),{key:f.title,item:f},null,8,["item"]))),128))],512),[[_,e(p)]])]),_:1})],2))}}),Ie={class:"layout-content-wrapper"},we={class:"navbar-content-container"},Se={class:"layout-page-content"},Oe={class:"page-content-container"},Re={class:"layout-footer"},Te={class:"footer-content-container"},Le={__name:"VerticalNavLayout",props:{navItems:{type:null,required:!0},verticalNavAttrs:{type:Object,required:!1,default:()=>({})}},setup(a){const l=a,{width:c}=ie(),r=B(),i=$(!1),t=$(!1),N=ne(i);se(i,t),S(c,()=>{!r.isLessThanOverlayNavBreakpoint&&t.value&&(t.value=!1)});const g=le(()=>{const p=re(l,"verticalNavAttrs"),{wrapper:V,wrapperProps:w,...n}=p.value;return{verticalNavWrapper:V,verticalNavWrapperProps:w,additionalVerticalNavAttrs:n}});return(p,V)=>(s(),I("div",{class:O([e(r)._layoutClasses,"layout-wrapper"]),"data-allow-mismatch":""},[(s(),v(m(e(g).verticalNavWrapper?e(g).verticalNavWrapper:"div"),y({class:"vertical-nav-wrapper"},e(g).verticalNavWrapperProps),{default:d(()=>[b(e(_e),y({"is-overlay-nav-active":e(i),"nav-items":l.navItems,"toggle-is-overlay-nav-active":e(N)},{...e(g).additionalVerticalNavAttrs}),{"nav-header":d(()=>[C(p.$slots,"vertical-nav-header")]),"before-nav-items":d(()=>[C(p.$slots,"before-vertical-nav-items")]),_:3},16,["is-overlay-nav-active","nav-items","toggle-is-overlay-nav-active"])]),_:3},16)),h("div",Ie,[h("header",{class:O([[{"navbar-blur":e(r).isNavbarBlurEnabled}],"layout-navbar"])},[h("div",we,[C(p.$slots,"navbar",{toggleVerticalOverlayNavActive:e(N)})])],2),h("main",Se,[h("div",Oe,[C(p.$slots,"default")])]),h("footer",Re,[h("div",Te,[C(p.$slots,"footer")])])]),h("div",{class:O([[{visible:e(t)}],"layout-overlay"]),onClick:V[0]||(V[0]=()=>{t.value=!e(t)})},null,2)],2))}},U={__name:"VerticalNavLink",props:{item:{type:null,required:!0}},setup(a){const c=B().isVerticalNavMini();return(r,i)=>(s(),I("li",{class:O(["nav-link",{disabled:a.item.disable}])},[(s(),v(m(a.item.to?"RouterLink":"a"),y(e(ce)(a.item),{class:{"router-link-active router-link-exact-active":e(oe)(a.item,r.$router)}}),{default:d(()=>[(s(),v(m(e(u).app.iconRenderer||"div"),y(a.item.icon||e(u).verticalNav.defaultNavItemIconProps,{class:"nav-item-icon"}),null,16)),b(K,{name:"transition-slide-x"},{default:d(()=>[k((s(),v(m(e(u).app.i18n.enable?"i18n-t":"span"),y({key:"title",class:"nav-item-title"},e(T)(a.item.title,"span")),{default:d(()=>[L(P(a.item.title),1)]),_:1},16)),[[_,!e(c)]]),a.item.badgeContent?k((s(),v(m(e(u).app.i18n.enable?"i18n-t":"span"),y({key:"badge",class:["nav-item-badge",a.item.badgeClass]},e(T)(a.item.badgeContent,"span")),{default:d(()=>[L(P(a.item.badgeContent),1)]),_:1},16,["class"])),[[_,!e(c)]]):q("",!0)]),_:1})]),_:1},16,["class"]))],2))}},Pe={class:"nav-section-title"},Be={class:"title-wrapper"},qe={__name:"VerticalNavSectionTitle",props:{item:{type:null,required:!0}},setup(a){const c=B().isVerticalNavMini();return(r,i)=>(s(),I("li",Pe,[h("div",Be,[b(M,{name:"vertical-nav-section-title",mode:"out-in"},{default:d(()=>[(s(),v(m(e(c)?e(u).app.iconRenderer:e(u).app.i18n.enable?"i18n-t":"span"),y({key:e(c),class:e(c)?"placeholder-icon":"title-text"},{...e(u).icons.sectionTitlePlaceholder,...e(T)(a.item.heading,"span")}),{default:d(()=>[L(P(e(c)?null:a.item.heading),1)]),_:1},16,["class"]))]),_:1})])]))}},xe=[{title:"Назначения",to:{name:"root"},icon:{icon:"tabler-smart-home"}},{title:"Департаменты",to:{name:"host-depart"},icon:{icon:"tabler-building-bank"}},{title:"Врачи",to:{name:"doctors-site"},icon:{icon:"mdi-folder-wrench-outline"}},{title:"RBAC",to:{name:"rbac"}}],Y=a=>{var c;const l=JSON.parse(localStorage.getItem("user_data"));return(c=l==null?void 0:l.data)==null||c.username,a.filter(r=>{const i=r.permission||null;return r.title==="RBAC"?!0:"children"in r&&Array.isArray(r.children)?(r.children=Y(r.children),r.children.length>0||(i?W(i):!0)):i?W(i):!0})},Ge={class:"d-flex h-100 align-center"},Qe={__name:"DefaultLayoutWithVerticalNav",setup(a){return(l,c)=>{const r=H("IconBtn");return s(),v(e(Le),{"nav-items":e(Y)(e(xe))},{navbar:d(({toggleVerticalOverlayNavActive:i})=>{var t;return[h("div",Ge,[b(r,{id:"vertical-nav-toggle-btn",class:"ms-n3 d-lg-none",onClick:N=>i(!0)},{default:d(()=>[b(ve,{icon:"tabler-menu-2",size:"26"})]),_:2},1032,["onClick"]),b(de),e(x).app.i18n.enable&&((t=e(x).app.i18n.langConfig)!=null&&t.length)?(s(),v(me,{key:0,languages:e(x).app.i18n.langConfig},null,8,["languages"])):q("",!0),b(pe)])]}),footer:d(()=>[b(ue)]),default:d(()=>[C(l.$slots,"default")]),_:3},8,["nav-items"])}}};export{Qe as default};
