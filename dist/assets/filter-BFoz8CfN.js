import{a8 as H,be as Ie,bM as pe,ab as X,a_ as se,b6 as Ce,r as L,a4 as Ae,bm as le,w as O,ac as Y,bf as he,p as R,b as m,aA as Pe,aU as Se,bN as Ee,b3 as fe,a9 as de,bt as ke,F as Q,bs as De,ay as K,bz as ie,X as M,bx as re,bO as Me,bP as xe,aq as Re,bw as Be,as as Le,Y as Oe,bQ as _e,aB as W,D as Ke,bR as He,ad as Ue,aS as Ne,bg as ze,ah as je,ak as $e,bh as qe,aF as ge,a1 as We,$ as ye,bi as Qe,s as Xe,bk as be,bl as Ve,bn as ce,b4 as Ye,aa as Ge,ag as Je,ax as Ze,b5 as et,m as q,bK as tt}from"./index-CiDOeLWu.js";import{m as lt,d as at,V as nt,a as we}from"./VList-DapNqBtX.js";import{V as ot}from"./VCheckboxBtn-D_8YvquD.js";import{V as rt}from"./VAvatar-D4RwvDF8.js";import{V as ut}from"./VChip-Bs9IQbnU.js";const st=H({fullscreen:Boolean,retainFocus:{type:Boolean,default:!0},scrollable:Boolean,...Ie({origin:"center center",scrollStrategy:"block",transition:{component:pe},zIndex:2400})},"VDialog"),Ct=X()({name:"VDialog",props:st(),emits:{"update:modelValue":e=>!0,afterEnter:()=>!0,afterLeave:()=>!0},setup(e,i){let{emit:t,slots:s}=i;const r=se(e,"modelValue"),{scopeId:d}=Ce(),c=L();function o(b){var f,P;const p=b.relatedTarget,u=b.target;if(p!==u&&((f=c.value)!=null&&f.contentEl)&&((P=c.value)!=null&&P.globalTop)&&![document,c.value.contentEl].includes(u)&&!c.value.contentEl.contains(u)){const y=Ee(c.value.contentEl);if(!y.length)return;const h=y[0],w=y[y.length-1];p===h?w.focus():h.focus()}}Ae(()=>{document.removeEventListener("focusin",o)}),le&&O(()=>r.value&&e.retainFocus,b=>{b?document.addEventListener("focusin",o):document.removeEventListener("focusin",o)},{immediate:!0});function a(){var b;t("afterEnter"),(b=c.value)!=null&&b.contentEl&&!c.value.contentEl.contains(document.activeElement)&&c.value.contentEl.focus({preventScroll:!0})}function g(){t("afterLeave")}return O(r,async b=>{var p;b||(await fe(),(p=c.value.activatorEl)==null||p.focus({preventScroll:!0}))}),Y(()=>{const b=he.filterProps(e),p=R({"aria-haspopup":"dialog"},e.activatorProps),u=R({tabindex:-1},e.contentProps);return m(he,R({ref:c,class:["v-dialog",{"v-dialog--fullscreen":e.fullscreen,"v-dialog--scrollable":e.scrollable},e.class],style:e.style},b,{modelValue:r.value,"onUpdate:modelValue":f=>r.value=f,"aria-modal":"true",activatorProps:p,contentProps:u,height:e.fullscreen?void 0:e.height,width:e.fullscreen?void 0:e.width,maxHeight:e.fullscreen?void 0:e.maxHeight,maxWidth:e.fullscreen?void 0:e.maxWidth,role:"dialog",onAfterEnter:a,onAfterLeave:g},d),{activator:s.activator,default:function(){for(var f=arguments.length,P=new Array(f),y=0;y<f;y++)P[y]=arguments[y];return m(Pe,{root:"VDialog"},{default:()=>{var h;return[(h=s.default)==null?void 0:h.call(s,...P)]}})}})}),Se({},c)}}),it=H({renderless:Boolean,...de()},"VVirtualScrollItem"),ct=X()({name:"VVirtualScrollItem",inheritAttrs:!1,props:it(),emits:{"update:height":e=>!0},setup(e,i){let{attrs:t,emit:s,slots:r}=i;const{resizeRef:d,contentRect:c}=ke(void 0,"border");O(()=>{var o;return(o=c.value)==null?void 0:o.height},o=>{o!=null&&s("update:height",o)}),Y(()=>{var o,a;return e.renderless?m(Q,null,[(o=r.default)==null?void 0:o.call(r,{itemRef:d})]):m("div",R({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},t),[(a=r.default)==null?void 0:a.call(r)])})}}),ft=-1,dt=1,ue=100,vt=H({itemHeight:{type:[Number,String],default:null},height:[Number,String]},"virtual");function mt(e,i){const t=De(),s=K(0);ie(()=>{s.value=parseFloat(e.itemHeight||0)});const r=K(0),d=K(Math.ceil((parseInt(e.height)||t.height.value)/(s.value||16))||1),c=K(0),o=K(0),a=L(),g=L();let b=0;const{resizeRef:p,contentRect:u}=ke();ie(()=>{p.value=a.value});const f=M(()=>{var l;return a.value===document.documentElement?t.height.value:((l=u.value)==null?void 0:l.height)||parseInt(e.height)||0}),P=M(()=>!!(a.value&&g.value&&f.value&&s.value));let y=Array.from({length:i.value.length}),h=Array.from({length:i.value.length});const w=K(0);let k=-1;function C(l){return y[l]||s.value}const A=Me(()=>{const l=performance.now();h[0]=0;const n=i.value.length;for(let V=1;V<=n-1;V++)h[V]=(h[V-1]||0)+C(V-1);w.value=Math.max(w.value,performance.now()-l)},w),G=O(P,l=>{l&&(G(),b=g.value.offsetTop,A.immediate(),B(),~k&&fe(()=>{le&&window.requestAnimationFrame(()=>{te(k),k=-1})}))});xe(()=>{A.clear()});function ae(l,n){const V=y[l],S=s.value;s.value=S?Math.min(s.value,n):n,(V!==n||S!==s.value)&&(y[l]=n,A())}function F(l){return l=re(l,0,i.value.length-1),h[l]||0}function J(l){return ht(h,l)}let N=0,U=0,$=0;O(f,(l,n)=>{n&&(B(),l<n&&requestAnimationFrame(()=>{U=0,B()}))});function Z(){if(!a.value||!g.value)return;const l=a.value.scrollTop,n=performance.now();n-$>500?(U=Math.sign(l-N),b=g.value.offsetTop):U=l-N,N=l,$=n,B()}function z(){!a.value||!g.value||(U=0,$=0,B())}let ee=-1;function B(){cancelAnimationFrame(ee),ee=requestAnimationFrame(ne)}function ne(){if(!a.value||!f.value)return;const l=N-b,n=Math.sign(U),V=Math.max(0,l-ue),S=re(J(V),0,i.value.length),E=l+f.value+ue,v=re(J(E)+1,S+1,i.value.length);if((n!==ft||S<r.value)&&(n!==dt||v>d.value)){const x=F(r.value)-F(S),T=F(v)-F(d.value);Math.max(x,T)>ue?(r.value=S,d.value=v):(S<=0&&(r.value=S),v>=i.value.length&&(d.value=v))}c.value=F(r.value),o.value=F(i.value.length)-F(d.value)}function te(l){const n=F(l);!a.value||l&&!n?k=l:a.value.scrollTop=n}const oe=M(()=>i.value.slice(r.value,d.value).map((l,n)=>({raw:l,index:n+r.value})));return O(i,()=>{y=Array.from({length:i.value.length}),h=Array.from({length:i.value.length}),A.immediate(),B()},{deep:!0}),{calculateVisibleItems:B,containerRef:a,markerRef:g,computedItems:oe,paddingTop:c,paddingBottom:o,scrollToIndex:te,handleScroll:Z,handleScrollend:z,handleItemResize:ae}}function ht(e,i){let t=e.length-1,s=0,r=0,d=null,c=-1;if(e[t]<i)return t;for(;s<=t;)if(r=s+t>>1,d=e[r],d>i)t=r-1;else if(d<i)c=r,s=r+1;else return d===i?r:s;return c}const gt=H({items:{type:Array,default:()=>[]},renderless:Boolean,...vt(),...de(),...Re()},"VVirtualScroll"),yt=X()({name:"VVirtualScroll",props:gt(),setup(e,i){let{slots:t}=i;const s=Be("VVirtualScroll"),{dimensionStyles:r}=Le(e),{calculateVisibleItems:d,containerRef:c,markerRef:o,handleScroll:a,handleScrollend:g,handleItemResize:b,scrollToIndex:p,paddingTop:u,paddingBottom:f,computedItems:P}=mt(e,Oe(e,"items"));return _e(()=>e.renderless,()=>{function y(){var k,C;const w=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1)?"addEventListener":"removeEventListener";c.value===document.documentElement?(document[w]("scroll",a,{passive:!0}),document[w]("scrollend",g)):((k=c.value)==null||k[w]("scroll",a,{passive:!0}),(C=c.value)==null||C[w]("scrollend",g))}Ke(()=>{c.value=He(s.vnode.el,!0),y(!0)}),xe(y)}),Y(()=>{const y=P.value.map(h=>m(ct,{key:h.index,renderless:e.renderless,"onUpdate:height":w=>b(h.index,w)},{default:w=>{var k;return(k=t.default)==null?void 0:k.call(t,{item:h.raw,index:h.index,...w})}}));return e.renderless?m(Q,null,[m("div",{ref:o,class:"v-virtual-scroll__spacer",style:{paddingTop:W(u.value)}},null),y,m("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:W(f.value)}},null)]):m("div",{ref:c,class:["v-virtual-scroll",e.class],onScrollPassive:a,onScrollend:g,style:[r.value,e.style]},[m("div",{ref:o,class:"v-virtual-scroll__container",style:{paddingTop:W(u.value),paddingBottom:W(f.value)}},[y])])}),{calculateVisibleItems:d,scrollToIndex:p}}});function bt(e,i){const t=K(!1);let s;function r(o){cancelAnimationFrame(s),t.value=!0,s=requestAnimationFrame(()=>{s=requestAnimationFrame(()=>{t.value=!1})})}async function d(){await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>requestAnimationFrame(o)),await new Promise(o=>{if(t.value){const a=O(t,()=>{a(),o()})}else o()})}async function c(o){var b,p;if(o.key==="Tab"&&((b=i.value)==null||b.focus()),!["PageDown","PageUp","Home","End"].includes(o.key))return;const a=(p=e.value)==null?void 0:p.$el;if(!a)return;(o.key==="Home"||o.key==="End")&&a.scrollTo({top:o.key==="Home"?0:a.scrollHeight,behavior:"smooth"}),await d();const g=a.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(o.key==="PageDown"||o.key==="Home"){const u=a.getBoundingClientRect().top;for(const f of g)if(f.getBoundingClientRect().top>=u){f.focus();break}}else{const u=a.getBoundingClientRect().bottom;for(const f of[...g].reverse())if(f.getBoundingClientRect().bottom<=u){f.focus();break}}}return{onScrollPassive:r,onKeydown:c}}const Vt=H({chips:Boolean,closableChips:Boolean,closeText:{type:String,default:"$vuetify.close"},openText:{type:String,default:"$vuetify.open"},eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,listProps:{type:Object},menu:Boolean,menuIcon:{type:Ue,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,itemColor:String,...lt({itemChildren:!1})},"Select"),wt=H({...Vt(),...Ne(ze({modelValue:null,role:"combobox"}),["validationValue","dirty","appendInnerIcon"]),...je({transition:{component:pe}})},"VSelect"),At=X()({name:"VSelect",props:wt(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,i){let{slots:t}=i;const{t:s}=$e(),r=L(),d=L(),c=L(),o=se(e,"menu"),a=M({get:()=>o.value,set:l=>{var n;o.value&&!l&&((n=d.value)!=null&&n.Î¨openChildren.size)||(o.value=l)}}),{items:g,transformIn:b,transformOut:p}=at(e),u=se(e,"modelValue",[],l=>b(l===null?[null]:ce(l)),l=>{const n=p(l);return e.multiple?n:n[0]??null}),f=M(()=>typeof e.counterValue=="function"?e.counterValue(u.value):typeof e.counterValue=="number"?e.counterValue:u.value.length),P=qe(e),y=M(()=>u.value.map(l=>l.value)),h=K(!1),w=M(()=>a.value?e.closeText:e.openText);let k="",C;const A=M(()=>e.hideSelected?g.value.filter(l=>!u.value.some(n=>e.valueComparator(n,l))):g.value),G=M(()=>e.hideNoData&&!A.value.length||P.isReadonly.value||P.isDisabled.value),ae=M(()=>{var l;return{...e.menuProps,activatorProps:{...((l=e.menuProps)==null?void 0:l.activatorProps)||{},"aria-haspopup":"listbox"}}}),F=L(),J=bt(F,r);function N(l){e.openOnClear&&(a.value=!0)}function U(){G.value||(a.value=!a.value)}function $(l){be(l)&&Z(l)}function Z(l){var E,v;if(!l.key||P.isReadonly.value)return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(l.key)&&l.preventDefault(),["Enter","ArrowDown"," "].includes(l.key)&&(a.value=!0),["Escape","Tab"].includes(l.key)&&(a.value=!1),l.key==="Home"?(E=F.value)==null||E.focus("first"):l.key==="End"&&((v=F.value)==null||v.focus("last"));const n=1e3;if(e.multiple||!be(l))return;const V=performance.now();V-C>n&&(k=""),k+=l.key.toLowerCase(),C=V;const S=g.value.find(x=>x.title.toLowerCase().startsWith(k));if(S!==void 0){u.value=[S];const x=A.value.indexOf(S);le&&window.requestAnimationFrame(()=>{var T;x>=0&&((T=c.value)==null||T.scrollToIndex(x))})}}function z(l){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!l.props.disabled)if(e.multiple){const V=u.value.findIndex(E=>e.valueComparator(E.value,l.value)),S=n??!~V;if(~V){const E=S?[...u.value,l]:[...u.value];E.splice(V,1),u.value=E}else S&&(u.value=[...u.value,l])}else{const V=n!==!1;u.value=V?[l]:[],fe(()=>{a.value=!1})}}function ee(l){var n;(n=F.value)!=null&&n.$el.contains(l.relatedTarget)||(a.value=!1)}function B(){var l;e.eager&&((l=c.value)==null||l.calculateVisibleItems())}function ne(){var l;h.value&&((l=r.value)==null||l.focus())}function te(l){h.value=!0}function oe(l){if(l==null)u.value=[];else if(Ve(r.value,":autofill")||Ve(r.value,":-webkit-autofill")){const n=g.value.find(V=>V.title===l);n&&z(n)}else r.value&&(r.value.value="")}return O(a,()=>{if(!e.hideSelected&&a.value&&u.value.length){const l=A.value.findIndex(n=>u.value.some(V=>e.valueComparator(V.value,n.value)));le&&window.requestAnimationFrame(()=>{var n;l>=0&&((n=c.value)==null||n.scrollToIndex(l))})}}),O(()=>e.items,(l,n)=>{a.value||h.value&&!n.length&&l.length&&(a.value=!0)}),Y(()=>{const l=!!(e.chips||t.chip),n=!!(!e.hideNoData||A.value.length||t["prepend-item"]||t["append-item"]||t["no-data"]),V=u.value.length>0,S=ge.filterProps(e),E=V||!h.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return m(ge,R({ref:r},S,{modelValue:u.value.map(v=>v.props.value).join(", "),"onUpdate:modelValue":oe,focused:h.value,"onUpdate:focused":v=>h.value=v,validationValue:u.externalValue,counterValue:f.value,dirty:V,class:["v-select",{"v-select--active-menu":a.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":u.value.length,"v-select--selection-slot":!!t.selection},e.class],style:e.style,inputmode:"none",placeholder:E,"onClick:clear":N,"onMousedown:control":U,onBlur:ee,onKeydown:Z,"aria-label":s(w.value),title:s(w.value)}),{...t,default:()=>m(Q,null,[m(We,R({ref:d,modelValue:a.value,"onUpdate:modelValue":v=>a.value=v,activator:"parent",contentClass:"v-select__content",disabled:G.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterEnter:B,onAfterLeave:ne},ae.value),{default:()=>[n&&m(nt,R({ref:F,selected:y.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:v=>v.preventDefault(),onKeydown:$,onFocusin:te,tabindex:"-1","aria-live":"polite",color:e.itemColor??e.color},J,e.listProps),{default:()=>{var v,x,T;return[(v=t["prepend-item"])==null?void 0:v.call(t),!A.value.length&&!e.hideNoData&&(((x=t["no-data"])==null?void 0:x.call(t))??m(we,{title:s(e.noDataText)},null)),m(yt,{ref:c,renderless:!0,items:A.value},{default:_=>{var me;let{item:D,index:j,itemRef:I}=_;const ve=R(D.props,{ref:I,key:j,onClick:()=>z(D,null)});return((me=t.item)==null?void 0:me.call(t,{item:D,index:j,props:ve}))??m(we,R(ve,{role:"option"}),{prepend:Te=>{let{isSelected:Fe}=Te;return m(Q,null,[e.multiple&&!e.hideSelected?m(ot,{key:D.value,modelValue:Fe,ripple:!1,tabindex:"-1"},null):void 0,D.props.prependAvatar&&m(rt,{image:D.props.prependAvatar},null),D.props.prependIcon&&m(ye,{icon:D.props.prependIcon},null)])}})}}),(T=t["append-item"])==null?void 0:T.call(t)]}})]}),u.value.map((v,x)=>{function T(I){I.stopPropagation(),I.preventDefault(),z(v,!1)}const _={"onClick:close":T,onKeydown(I){I.key!=="Enter"&&I.key!==" "||(I.preventDefault(),I.stopPropagation(),T(I))},onMousedown(I){I.preventDefault(),I.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0},D=l?!!t.chip:!!t.selection,j=D?Qe(l?t.chip({item:v,index:x,props:_}):t.selection({item:v,index:x})):void 0;if(!(D&&!j))return m("div",{key:v.value,class:"v-select__selection"},[l?t.chip?m(Pe,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:v.title}}},{default:()=>[j]}):m(ut,R({key:"chip",closable:e.closableChips,size:"small",text:v.title,disabled:v.props.disabled},_),null):j??m("span",{class:"v-select__selection-text"},[v.title,e.multiple&&x<u.value.length-1&&m("span",{class:"v-select__selection-comma"},[Xe(",")])])])})]),"append-inner":function(){var _;for(var v=arguments.length,x=new Array(v),T=0;T<v;T++)x[T]=arguments[T];return m(Q,null,[(_=t["append-inner"])==null?void 0:_.call(t,...x),e.menuIcon?m(ye,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),Se({isFocused:h,menu:a,select:z},r)}}),pt=H({fixedHeader:Boolean,fixedFooter:Boolean,height:[Number,String],hover:Boolean,...de(),...Ye(),...Ge(),...Je()},"VTable"),Et=X()({name:"VTable",props:pt(),setup(e,i){let{slots:t,emit:s}=i;const{themeClasses:r}=Ze(e),{densityClasses:d}=et(e);return Y(()=>m(e.tag,{class:["v-table",{"v-table--fixed-height":!!e.height,"v-table--fixed-header":e.fixedHeader,"v-table--fixed-footer":e.fixedFooter,"v-table--has-top":!!t.top,"v-table--has-bottom":!!t.bottom,"v-table--hover":e.hover},r.value,d.value,e.class],style:e.style},{default:()=>{var c,o,a;return[(c=t.top)==null?void 0:c.call(t),t.default?m("div",{class:"v-table__wrapper",style:{height:W(e.height)}},[m("table",null,[t.default()])]):(o=t.wrapper)==null?void 0:o.call(t),(a=t.bottom)==null?void 0:a.call(t)]}})),{}}}),Pt=(e,i,t)=>e==null||i==null?-1:e.toString().toLocaleLowerCase().indexOf(i.toString().toLocaleLowerCase()),Dt=H({customFilter:Function,customKeyFilter:Object,filterKeys:[Array,String],filterMode:{type:String,default:"intersection"},noFilter:Boolean},"filter");function St(e,i,t){var o;const s=[],r=(t==null?void 0:t.default)??Pt,d=t!=null&&t.filterKeys?ce(t.filterKeys):!1,c=Object.keys((t==null?void 0:t.customKeyFilter)??{}).length;if(!(e!=null&&e.length))return s;e:for(let a=0;a<e.length;a++){const[g,b=g]=ce(e[a]),p={},u={};let f=-1;if((i||c>0)&&!(t!=null&&t.noFilter)){if(typeof g=="object"){const h=d||Object.keys(b);for(const w of h){const k=tt(b,w),C=(o=t==null?void 0:t.customKeyFilter)==null?void 0:o[w];if(f=C?C(k,i,g):r(k,i,g),f!==-1&&f!==!1)C?p[w]=f:u[w]=f;else if((t==null?void 0:t.filterMode)==="every")continue e}}else f=r(g,i,g),f!==-1&&f!==!1&&(u.title=f);const P=Object.keys(u).length,y=Object.keys(p).length;if(!P&&!y||(t==null?void 0:t.filterMode)==="union"&&y!==c&&!P||(t==null?void 0:t.filterMode)==="intersection"&&(y!==c||!P))continue}s.push({index:a,matches:{...u,...p}})}return s}function Mt(e,i,t,s){const r=L([]),d=L(new Map),c=M(()=>s!=null&&s.transform?q(i).map(a=>[a,s.transform(a)]):q(i));ie(()=>{const a=typeof t=="function"?t():q(t),g=typeof a!="string"&&typeof a!="number"?"":String(a),b=St(c.value,g,{customKeyFilter:{...e.customKeyFilter,...q(s==null?void 0:s.customKeyFilter)},default:e.customFilter,filterKeys:e.filterKeys,filterMode:e.filterMode,noFilter:e.noFilter}),p=q(i),u=[],f=new Map;b.forEach(P=>{let{index:y,matches:h}=P;const w=p[y];u.push(w),f.set(w.value,h)}),r.value=u,d.value=f});function o(a){return d.value.get(a.value)}return{filteredItems:r,filteredMatches:d,getMatches:o}}export{Ct as V,At as a,Et as b,Vt as c,bt as d,yt as e,pt as f,vt as g,mt as h,ct as i,Dt as m,Mt as u};
