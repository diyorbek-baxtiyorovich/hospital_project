import{a as X}from"./axios-CY9edo1_.js";import{a8 as H,aT as Me,bf as le,ab as z,aO as ne,aW as De,bg as Ue,X as R,ac as q,aY as Xe,aZ as be,b as a,p as A,aq as He,ar as K,bh as ze,r as L,o as V,f as j,e as o,a3 as x,$ as oe,s as k,a2 as se,as as Q,m as p,bi as ie,J as ue,c as S,d as v,V as re,bj as qe,x as Ne,F as G,h as Z,t as D,D as Ve,bk as Fe,al as Ge,b1 as Oe,bl as je,bm as Je,bn as pe,a9 as xe,aa as we,ag as Qe,aI as Ze,bc as Ke,ak as et,aH as tt,bd as ee,w as at,M as lt,H as Re,at as nt,O as Ce,aC as ot,au as st,aD as it,av as ut,I as rt,ap as dt,be as te,b2 as ct,aL as ft,aQ as mt,ai as vt,Y as M,bo as bt,aJ as ht,bp as gt,a7 as he}from"./index-2LEpCFXI.js";import{V as U,a as de,b as ce,c as P,d as ge}from"./VCard-CLWFabl1.js";import{V as ke}from"./VForm-NJA79uPC.js";import{V as Y,a as T}from"./VRow-0YWJRDS7.js";import{V as fe}from"./VDialog-BYW2rrRR.js";import{m as yt,a as ye,b as Se}from"./filter-DPaBL-VY.js";import{V as _t}from"./VAutocomplete-DNNhyQ4a.js";import{u as Vt}from"./VList-5eaRKQjB.js";import{m as pt,a as _e}from"./VChip-CkzoBafT.js";import"./VAvatar-Bly2Wxsk.js";import"./VImg-C83mZLVZ.js";import"./VDivider-BNx6VzR3.js";const xt=H({...Me(),...le(yt(),["inline"])},"VCheckbox"),wt=z()({name:"VCheckbox",inheritAttrs:!1,props:xt(),emits:{"update:modelValue":e=>!0,"update:focused":e=>!0},setup(e,t){let{attrs:n,slots:l}=t;const i=ne(e,"modelValue"),{isFocused:u,focus:s,blur:d}=De(e),f=Ue(),m=R(()=>e.id||`checkbox-${f}`);return q(()=>{const[c,r]=Xe(n),b=be.filterProps(e),g=ye.filterProps(e);return a(be,A({class:["v-checkbox",e.class]},c,b,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,id:m.value,focused:u.value,style:e.style}),{...l,default:h=>{let{id:w,messagesId:W,isDisabled:N,isReadonly:I,isValid:B}=h;return a(ye,A(g,{id:w.value,"aria-describedby":W.value,disabled:N.value,readonly:I.value},r,{error:B.value===!1,modelValue:i.value,"onUpdate:modelValue":y=>i.value=y,onFocus:s,onBlur:d}),l)}})}),{}}});async function Rt(){const{data:e}=await X.get("/v1/rbac/get-all-roles");if(e)return e}async function Ct(){const{data:e}=await X.get("/v1/rbac/get-all-routes");if(e)return e}async function kt(e){const{data:t}=await X.get(`/v1/rbac/get-role-permissions/${e}`);if(t)return t}async function St(e){const{data:t}=await X.post("/v1/rbac/add-role",e);if(t)return t}async function Tt(e){const{data:t}=await X.put(`/v1/rbac/update-role/${e.id}`,e);if(t)return t}async function Pt(e){const{data:t}=await X.delete(`/v1/rbac/delete-role/${e}`);if(t)return t}async function It(e,t){const{data:n}=await X.patch(`/v1/rbac/update-role-permissions/${t}`,e);if(n)return n}const E=He("rbac-role",{state:()=>({loading:!1,roles:[],role:{},permissions:[],isCreatingRole:!1,permissionsById:{},isEditingRole:!1,isDeletingRole:!1,currentRole:{}}),actions:{async fetchRbacRole(){try{this.loading=!0,this.roles=await Rt()}finally{this.loading=!1}},async fetchRbacPermissions(){try{this.loading=!0,this.permissions=await Ct()}finally{this.loading=!1}},async fetchRbacPermissionsById(e){try{this.loading=!0,await this.fetchRbacPermissions(),this.permissionsById=await kt(e)}finally{this.loading=!1}},async update(e){return await Tt(e)},async createRole(e){return await St(e)},async confirm(e){return await Pt(e.id)},async changePermissions(e,t){return await It(e,t)}},getters:{}}),Bt={__name:"RoleAdd",setup(e){const t=E(),n=K(),l=ze({id:0,name:"",level:0}),i=E(),u=[c=>!!c||"Level тўлдирилиши шарт",c=>!isNaN(c)||"Level рақам бўлиши керак"],s=[c=>!!c||"Name тўлиқ исмини киритинг"],d=L(null);function f(){t.isCreatingRole=!1,d.value&&d.value.reset()}async function m(){if(!d.value.validate())return;const c=await t.createRole(l);c!=null&&c.result&&(n.success("Фойдаланувчи мувофаққиятли қўшилди"),t.isCreatingRole=!1,d.value.reset(),await i.fetchRbacRole(),await i.fetchRbacPermissions())}return(c,r)=>(V(),j(fe,{"model-value":p(t).isCreatingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[a(U,{flat:""},{default:o(()=>[a(de,null,{append:o(()=>[a(x,{icon:"",onClick:f},{default:o(()=>[a(oe,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[a(ce,{color:"primary",dark:"",height:"64"},{default:o(()=>r[2]||(r[2]=[k(" Yangi Role qo'shish ")])),_:1})]),_:1}),a(P,null,{default:o(()=>[a(U,{flat:""},{default:o(()=>[a(P,null,{default:o(()=>[a(ke,{ref_key:"form",ref:d,onSubmit:se(m,["prevent"])},{default:o(()=>[a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(Q,{id:"level",modelValue:l.level,"onUpdate:modelValue":r[0]||(r[0]=b=>l.level=b),rules:u,density:"compact",label:"Level",name:"level",outlined:"",required:""},null,8,["modelValue"])]),_:1}),a(T,{cols:"12"},{default:o(()=>[a(Q,{id:"name",modelValue:l.name,"onUpdate:modelValue":r[1]||(r[1]=b=>l.name=b),rules:s,density:"compact",label:"Name",name:"name",outlined:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(x,{class:"mt-5",color:"primary",type:"submit"},{default:o(()=>r[3]||(r[3]=[k(" Qo'shish ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},$t={__name:"RoleDelete",setup(e){const t=E(),n=E(),l=K(),{currentRole:i}=ie(t);function u(){i.value={},t.isDeletingRole=!1}async function s(){await t.confirm(i.value)&&(l.success("Muvaffaqiyatli o'chirildi"),await n.fetchRbacRole(),await n.fetchRbacPermissions(),u())}return(d,f)=>(V(),j(fe,{"model-value":p(t).isDeletingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[a(U,{flat:""},{default:o(()=>[a(de,null,{append:o(()=>[a(x,{icon:"",onClick:u},{default:o(()=>[a(oe,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[a(ce,{color:"primary",dark:"",height:"64"},{default:o(()=>f[0]||(f[0]=[k(" Rolni o'chirish ")])),_:1})]),_:1}),a(P,null,{default:o(()=>[a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(x,{class:"mx-2",color:"error",onClick:s},{default:o(()=>f[1]||(f[1]=[k(" Tasdiqlash ")])),_:1}),a(x,{class:"mx-2",color:"secondary",onClick:u},{default:o(()=>f[2]||(f[2]=[k(" Bekor qilish ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Et={__name:"RoleEdit",setup(e){const t=E(),n=K(),{currentRole:l}=ie(t),i=L(null),u=[m=>!!m||"Name тўлиқ исмини киритинг"],s=[m=>!!m||"Level тўлдирилиши шарт",m=>!isNaN(m)||"Level рақам бўлиши керак"];function d(){t.isEditingRole=!1,l.value={},i.value&&i.value.reset()}async function f(){if(!i.value.validate())return;await t.update(l.value)&&(n.success("Muvofiqiyatli yangilandi."),d())}return(m,c)=>(V(),j(fe,{"model-value":p(t).isEditingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[a(U,{flat:""},{default:o(()=>[a(de,null,{append:o(()=>[a(x,{icon:"",onClick:d},{default:o(()=>[a(oe,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[a(ce,{color:"primary",dark:"",height:"64"},{default:o(()=>c[2]||(c[2]=[k(" Фойдаланувчи маълумотларига ўзгартириш киритиш ")])),_:1})]),_:1}),a(P,null,{default:o(()=>[a(U,{flat:""},{default:o(()=>[a(P,null,{default:o(()=>[a(ke,{ref_key:"form",ref:i,onSubmit:se(f,["prevent"])},{default:o(()=>[a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(Q,{id:"level",modelValue:p(l).level,"onUpdate:modelValue":c[0]||(c[0]=r=>p(l).level=r),rules:s,density:"compact",label:"Level of role",name:"level",outlined:"",required:""},null,8,["modelValue"])]),_:1}),a(T,{cols:"12"},{default:o(()=>[a(Q,{id:"name",modelValue:p(l).name,"onUpdate:modelValue":c[1]||(c[1]=r=>p(l).name=r),rules:u,density:"compact",label:"Name",name:"name",outlined:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(x,{class:"mt-5",color:"primary",type:"submit"},{default:o(()=>c[3]||(c[3]=[k(" Сақлаш ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Wt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},At={key:0},Lt=["colspan"],Yt={class:"border"},Mt={class:"cursor-pointer text-primary"},Dt={class:"border"},Ut={class:"border"},Xt={class:"border"},Ht=ue({__name:"RolesList",setup(e){const t=E();function n(){t.isCreatingRole=!0}function l(u){t.isEditingRole=!0,t.currentRole=u}function i(u){t.isDeletingRole=!0,t.currentRole=u}return(u,s)=>(V(),S("div",null,[a(Bt),a($t),a(Et),v("section",null,[a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(P,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[s[1]||(s[1]=v("div",{class:"me-3",style:{width:"80px"}},null,-1)),a(re),v("div",Wt,[a(x,{"prepend-icon":"tabler-plus",onClick:se(n,["prevent"])},{default:o(()=>s[0]||(s[0]=[k(" Add role ")])),_:1})])]),_:1}),a(P,null,{default:o(()=>[a(Se,null,{default:o(()=>[s[2]||(s[2]=v("thead",null,[v("tr",null,[v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Id")]),v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Name")]),v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Level")]),v("th",{class:"border",scope:"col"})])],-1)),v("tbody",null,[p(t).loading?(V(),S("tr",At,[v("td",{colspan:p(t).roles.length},[a(qe,{height:2,indeterminate:""})],8,Lt)])):Ne("",!0),(V(!0),S(G,null,Z(p(t).roles,d=>(V(),S("tr",{key:d.id},[v("td",Yt,[v("span",Mt,D(d.id),1)]),v("td",Dt,D(d.name),1),v("td",Ut,D(d.level),1),v("td",Xt,[v("div",null,[a(x,{color:"warning",density:"default",icon:"mdi-pencil-circle",size:"x-large",variant:"plain",onClick:f=>l(d)},null,8,["onClick"]),a(x,{color:"error",density:"default",icon:"mdi-delete",size:"x-large",variant:"plain",onClick:f=>i(d)},null,8,["onClick"])])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})])]))}}),zt={class:"cursor-pointer text-primary"},qt=ue({__name:"Routes",setup(e){const t=E();return(n,l)=>(V(),S("section",null,[a(Y,null,{default:o(()=>[a(T,{cols:"12"},{default:o(()=>[a(P,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[l[0]||(l[0]=v("div",{class:"me-3",style:{width:"80px"}},null,-1)),a(re),l[1]||(l[1]=v("div",{class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},null,-1))]),_:1}),a(P,null,{default:o(()=>[a(Se,{class:"overflow-x-auto",style:{"max-height":"60vh"}},{default:o(()=>[l[2]||(l[2]=v("thead",null,[v("tr",null,[v("th",{scope:"col"}," Id "),v("th",{scope:"col"}," Routes ")])],-1)),(V(!0),S(G,null,Z(p(t).permissions,(i,u)=>(V(),S("tbody",{key:u},[(V(!0),S(G,null,Z(p(t).permissions,s=>(V(),S("tr",{key:s.id},[v("td",null,[v("span",zt,D(s.id),1)]),v("td",null,D(s.endpoint),1)]))),128))]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Nt={class:"font-weight-bold"},Ft=ue({__name:"AppendedPermissions",setup(e){const t=E(),{permissions:n,permissionsById:l}=ie(t),i=K(),u=L(1);async function s(){t.permissions.forEach(m=>{l.value.permissions.forEach(c=>{m.id===c.id&&(m.isPermitted=!0)})})}async function d(){const m=[];n.value.forEach(r=>{r.isPermitted&&m.push(r.id)}),await t.changePermissions(m,u.value)&&i.success("Menyu ruxsatnomalari muvaffaqiyatli o'zgartirildi")}async function f(m){await t.fetchRbacPermissionsById(m),await s()}return Ve(()=>{f(u.value)}),(m,c)=>(V(),j(U,{flat:""},{default:o(()=>[a(ge,null,{default:o(()=>[a(Y,null,{default:o(()=>[a(T,{cols:"12",md:"4"}),a(T,{class:"mt-3",cols:"12",md:"8"},{default:o(()=>[a(_t,{modelValue:u.value,"onUpdate:modelValue":[c[0]||(c[0]=r=>u.value=r),c[1]||(c[1]=r=>f(u.value))],items:p(t).roles,"aria-autocomplete":"off",autocomplete:"off",dense:"","item-title":"name","item-value":"id",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),(V(!0),S(G,null,Z(p(n),(r,b)=>(V(),S("div",{key:r.id,class:"gap-3 align-center ml-5 my-1 d-flex"},[v("span",Nt,D(b+1)+") ",1),a(wt,{modelValue:r.isPermitted,"onUpdate:modelValue":g=>r.isPermitted=g,label:` ${r==null?void 0:r.name}`,class:"font-weight-bold"},null,8,["modelValue","onUpdate:modelValue","label"]),v("span",null,"path: "+D(r==null?void 0:r.endpoint),1)]))),128)),a(ge,null,{default:o(()=>[a(re),a(x,{color:"primary",onClick:d},{default:o(()=>c[2]||(c[2]=[k(" change permissions ")])),_:1})]),_:1})]),_:1}))}}),me=Symbol.for("vuetify:v-tabs"),Gt=H({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...le(Fe({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),J=z()({name:"VTab",props:Gt(),setup(e,t){let{slots:n,attrs:l}=t;const{textColorClasses:i,textColorStyles:u}=Ge(e,"sliderColor"),s=L(),d=L(),f=R(()=>e.direction==="horizontal"),m=R(()=>{var r,b;return((b=(r=s.value)==null?void 0:r.group)==null?void 0:b.isSelected.value)??!1});function c(r){var g,h;let{value:b}=r;if(b){const w=(h=(g=s.value)==null?void 0:g.$el.parentElement)==null?void 0:h.querySelector(".v-tab--selected .v-tab__slider"),W=d.value;if(!w||!W)return;const N=getComputedStyle(w).color,I=w.getBoundingClientRect(),B=W.getBoundingClientRect(),y=f.value?"x":"y",_=f.value?"X":"Y",C=f.value?"right":"bottom",$=f.value?"width":"height",Ee=I[y],We=B[y],F=Ee>We?I[C]-B[C]:I[y]-B[y],Ae=Math.sign(F)>0?f.value?"right":"bottom":Math.sign(F)<0?f.value?"left":"top":"center",Le=(Math.abs(F)+(Math.sign(F)<0?I[$]:B[$]))/Math.max(I[$],B[$])||0,Ye=I[$]/B[$]||0,ve=1.5;je(W,{backgroundColor:[N,"currentcolor"],transform:[`translate${_}(${F}px) scale${_}(${Ye})`,`translate${_}(${F/ve}px) scale${_}(${(Le-1)/ve+1})`,"none"],transformOrigin:Array(3).fill(Ae)},{duration:225,easing:Je})}}return q(()=>{const r=x.filterProps(e);return a(x,A({symbol:me,ref:s,class:["v-tab",e.class],style:e.style,tabindex:m.value?0:-1,role:"tab","aria-selected":String(m.value),active:!1},r,l,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":c}),{...n,default:()=>{var b;return a(G,null,[((b=n.default)==null?void 0:b.call(n))??e.text,!e.hideSlider&&a("div",{ref:d,class:["v-tab__slider",i.value],style:u.value},null)])}})}),Oe({},s)}}),Ot=e=>{const{touchstartX:t,touchendX:n,touchstartY:l,touchendY:i}=e,u=.5,s=16;e.offsetX=n-t,e.offsetY=i-l,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<t-s&&e.left(e),e.right&&n>t+s&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&i<l-s&&e.up(e),e.down&&i>l+s&&e.down(e))};function jt(e,t){var l;const n=e.changedTouches[0];t.touchstartX=n.clientX,t.touchstartY=n.clientY,(l=t.start)==null||l.call(t,{originalEvent:e,...t})}function Jt(e,t){var l;const n=e.changedTouches[0];t.touchendX=n.clientX,t.touchendY=n.clientY,(l=t.end)==null||l.call(t,{originalEvent:e,...t}),Ot(t)}function Qt(e,t){var l;const n=e.changedTouches[0];t.touchmoveX=n.clientX,t.touchmoveY=n.clientY,(l=t.move)==null||l.call(t,{originalEvent:e,...t})}function Zt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const t={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>jt(n,t),touchend:n=>Jt(n,t),touchmove:n=>Qt(n,t)}}function Kt(e,t){var d;const n=t.value,l=n!=null&&n.parent?e.parentElement:e,i=(n==null?void 0:n.options)??{passive:!0},u=(d=t.instance)==null?void 0:d.$.uid;if(!l||!u)return;const s=Zt(t.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[u]=s,pe(s).forEach(f=>{l.addEventListener(f,s[f],i)})}function ea(e,t){var u,s;const n=(u=t.value)!=null&&u.parent?e.parentElement:e,l=(s=t.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||!l)return;const i=n._touchHandlers[l];pe(i).forEach(d=>{n.removeEventListener(d,i[d])}),delete n._touchHandlers[l]}const Te={mounted:Kt,unmounted:ea},Pe=Symbol.for("vuetify:v-window"),Ie=Symbol.for("vuetify:v-window-group"),Be=H({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...xe(),...we(),...Qe()},"VWindow"),ae=z()({name:"VWindow",directives:{Touch:Te},props:Be(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const{themeClasses:l}=Ze(e),{isRtl:i}=Ke(),{t:u}=et(),s=tt(e,Ie),d=L(),f=R(()=>i.value?!e.reverse:e.reverse),m=ee(!1),c=R(()=>{const y=e.direction==="vertical"?"y":"x",C=(f.value?!m.value:m.value)?"-reverse":"";return`v-window-${y}${C}-transition`}),r=ee(0),b=L(void 0),g=R(()=>s.items.value.findIndex(y=>s.selected.value.includes(y.id)));at(g,(y,_)=>{const C=s.items.value.length,$=C-1;C<=2?m.value=y<_:y===$&&_===0?m.value=!0:y===0&&_===$?m.value=!1:m.value=y<_}),lt(Pe,{transition:c,isReversed:m,transitionCount:r,transitionHeight:b,rootRef:d});const h=R(()=>e.continuous||g.value!==0),w=R(()=>e.continuous||g.value!==s.items.value.length-1);function W(){h.value&&s.prev()}function N(){w.value&&s.next()}const I=R(()=>{const y=[],_={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${f.value?"right":"left"}`,onClick:s.prev,"aria-label":u("$vuetify.carousel.prev")};y.push(h.value?n.prev?n.prev({props:_}):a(x,_,null):a("div",null,null));const C={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${f.value?"left":"right"}`,onClick:s.next,"aria-label":u("$vuetify.carousel.next")};return y.push(w.value?n.next?n.next({props:C}):a(x,C,null):a("div",null,null)),y}),B=R(()=>e.touch===!1?e.touch:{...{left:()=>{f.value?W():N()},right:()=>{f.value?N():W()},start:_=>{let{originalEvent:C}=_;C.stopPropagation()}},...e.touch===!0?{}:e.touch});return q(()=>Re(a(e.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},l.value,e.class],style:e.style},{default:()=>{var y,_;return[a("div",{class:"v-window__container",style:{height:b.value}},[(y=n.default)==null?void 0:y.call(n,{group:s}),e.showArrows!==!1&&a("div",{class:"v-window__controls"},[I.value])]),(_=n.additional)==null?void 0:_.call(n,{group:s})]}}),[[nt("touch"),B.value]])),{group:s}}}),ta=H({...le(Be(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),aa=z()({name:"VTabsWindow",props:ta(),emits:{"update:modelValue":e=>!0},setup(e,t){let{slots:n}=t;const l=Ce(me,null),i=ne(e,"modelValue"),u=R({get(){var s;return i.value!=null||!l?i.value:(s=l.items.value.find(d=>l.selected.value.includes(d.id)))==null?void 0:s.value},set(s){i.value=s}});return q(()=>{const s=ae.filterProps(e);return a(ae,A({_as:"VTabsWindow"},s,{modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),$e=H({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...xe(),...ot(),...st()},"VWindowItem"),O=z()({name:"VWindowItem",directives:{Touch:Te},props:$e(),emits:{"group:selected":e=>!0},setup(e,t){let{slots:n}=t;const l=Ce(Pe),i=it(e,Ie),{isBooted:u}=Vt();if(!l||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=ee(!1),d=R(()=>u.value&&(l.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function f(){!s.value||!l||(s.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function m(){var h;s.value||!l||(s.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=te((h=l.rootRef.value)==null?void 0:h.clientHeight)),l.transitionCount.value+=1)}function c(){f()}function r(h){s.value&&ct(()=>{!d.value||!s.value||!l||(l.transitionHeight.value=te(h.clientHeight))})}const b=R(()=>{const h=l.isReversed.value?e.reverseTransition:e.transition;return d.value?{name:typeof h!="string"?l.transition.value:h,onBeforeEnter:m,onAfterEnter:f,onEnterCancelled:c,onBeforeLeave:m,onAfterLeave:f,onLeaveCancelled:c,onEnter:r}:!1}),{hasContent:g}=ut(e,i.isSelected);return q(()=>a(dt,{transition:b.value,disabled:!u.value},{default:()=>{var h;return[Re(a("div",{class:["v-window-item",i.selectedClass.value,e.class],style:e.style},[g.value&&((h=n.default)==null?void 0:h.call(n))]),[[rt,i.isSelected.value]])]}})),{groupItem:i}}}),la=H({...$e()},"VTabsWindowItem"),na=z()({name:"VTabsWindowItem",props:la(),setup(e,t){let{slots:n}=t;return q(()=>{const l=O.filterProps(e);return a(O,A({_as:"VTabsWindowItem"},l,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function oa(e){return e?e.map(t=>gt(t)?t:{text:t,value:t}):[]}const sa=H({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...pt({mandatory:"force",selectedClass:"v-tab-item--selected"}),...ft(),...we()},"VTabs"),ia=z()({name:"VTabs",props:sa(),emits:{"update:modelValue":e=>!0},setup(e,t){let{attrs:n,slots:l}=t;const i=ne(e,"modelValue"),u=R(()=>oa(e.items)),{densityClasses:s}=mt(e),{backgroundColorClasses:d,backgroundColorStyles:f}=vt(M(e,"bgColor")),{scopeId:m}=bt();return ht({VTab:{color:M(e,"color"),direction:M(e,"direction"),stacked:M(e,"stacked"),fixed:M(e,"fixedTabs"),sliderColor:M(e,"sliderColor"),hideSlider:M(e,"hideSlider")}}),q(()=>{const c=_e.filterProps(e),r=!!(l.window||e.items.length>0);return a(G,null,[a(_e,A(c,{modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,d.value,e.class],style:[{"--v-tabs-height":te(e.height)},f.value,e.style],role:"tablist",symbol:me},m,n),{default:()=>{var b;return[((b=l.default)==null?void 0:b.call(l))??u.value.map(g=>{var h;return((h=l.tab)==null?void 0:h.call(l,{item:g}))??a(J,A(g,{key:g.text,value:g.value}),{default:l[`tab.${g.value}`]?()=>{var w;return(w=l[`tab.${g.value}`])==null?void 0:w.call(l,{item:g})}:void 0})})]}}),r&&a(aa,A({modelValue:i.value,"onUpdate:modelValue":b=>i.value=b,key:"tabs-window"},m),{default:()=>{var b;return[u.value.map(g=>{var h;return((h=l.item)==null?void 0:h.call(l,{item:g}))??a(na,{value:g.value},{default:()=>{var w;return(w=l[`item.${g.value}`])==null?void 0:w.call(l,{item:g})}})}),(b=l.window)==null?void 0:b.call(l)]}})])}),{}}}),xa={__name:"index",setup(e){const t=E(),n=L(0);return Ve(()=>{t.fetchRbacRole(),t.fetchRbacPermissions()}),(l,i)=>(V(),j(U,null,{default:o(()=>[a(P,null,{default:o(()=>[a(ia,{modelValue:p(n),"onUpdate:modelValue":i[0]||(i[0]=u=>he(n)?n.value=u:null),class:"v-tabs-pill",grow:""},{default:o(()=>[a(J,null,{default:o(()=>i[2]||(i[2]=[k(" Роли ")])),_:1}),a(J,null,{default:o(()=>i[3]||(i[3]=[k(" Роуты ")])),_:1}),a(J,null,{default:o(()=>i[4]||(i[4]=[k(" Добавленные разрешения ")])),_:1})]),_:1},8,["modelValue"]),a(P,null,{default:o(()=>[a(ae,{modelValue:p(n),"onUpdate:modelValue":i[1]||(i[1]=u=>he(n)?n.value=u:null)},{default:o(()=>[a(O,{value:0},{default:o(()=>[a(Ht)]),_:1}),a(O,{value:1},{default:o(()=>[a(qt)]),_:1}),a(O,{value:2},{default:o(()=>[a(Ft)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{xa as default};
