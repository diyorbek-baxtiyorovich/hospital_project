import{a as D,V as be}from"./VForm-qgHvHQIG.js";import{aD as Le,aH as K,aE as Me,r as W,o as p,f as O,e as o,b as t,a3 as w,$ as le,s as k,a2 as ne,aF as J,m as V,aQ as oe,J as se,c as S,d as v,V as ie,aR as Xe,x as De,F as z,h as Z,t as M,D as ge,a8 as N,aS as ye,aT as He,ab as q,al as Ae,X as x,ac as F,p as U,aU as Ue,aV as ze,aW as Ne,aX as _e,a9 as pe,aa as Ve,ag as qe,ax as Fe,ar as Ge,ak as Oe,aY as je,ay as ee,w as Qe,M as Je,H as we,aZ as Ze,O as xe,a_ as Re,a$ as Ke,b0 as et,b1 as tt,b2 as at,I as lt,ap as nt,aB as te,b3 as ot,b4 as st,b5 as it,ai as ut,Y as L,b6 as rt,az as dt,b7 as ct,a7 as me}from"./index-CiDOeLWu.js";import{V as X,a as ue,b as re,c as B,d as ve}from"./VCard-n0D_yEal.js";import{V as Y,a as T}from"./VRow-D_iISvjp.js";import{V as de,b as Ce}from"./filter-BFoz8CfN.js";import{V as ft}from"./VAutocomplete-DC8GyFrt.js";import{V as mt}from"./VCheckbox-C5Zutx1C.js";import{u as vt}from"./VList-DapNqBtX.js";import{m as ht,a as he}from"./VChip-Bs9IQbnU.js";import"./VAvatar-D4RwvDF8.js";import"./VImg-B3pZFRRB.js";import"./VCheckboxBtn-D_8YvquD.js";import"./VDivider-CuGzcyap.js";async function bt(){const{data:e}=await D.get("/rbac/get-roles");if(e)return e}async function gt(){const{data:e}=await D.get("/rbac/get-permissions");if(e)return e}async function yt(e){const{data:a}=await D.get("/rbac/get-permissions",{params:{role_id:e}});return a}async function _t(e){const{data:a}=await D.post("/rbac/add-role",e);if(a)return a}async function pt(e){const{data:a}=await D.put("/rbac/update-role",{name:e.name,level:e.level},{params:{role_id:e.id}});return a}async function Vt(e){const{data:a}=await D.delete(`/v1/rbac/delete-role/${e}`);if(a)return a}async function wt(e,a){const{data:n}=await D.put("/rbac/reappend-role-permissions",{role_id:a,permission_ids:e});return n}const P=Le("rbac-role",{state:()=>({loading:!1,roles:[],role:{},permissions:[],isCreatingRole:!1,permissionsById:{},isEditingRole:!1,isDeletingRole:!1,currentRole:{}}),actions:{async fetchRbacRole(){try{this.loading=!0,this.roles=await bt()}finally{this.loading=!1}},async fetchRbacPermissions(){try{this.loading=!0,this.permissions=await gt()}finally{this.loading=!1}},async fetchRbacPermissionsById(e){try{this.loading=!0,await this.fetchRbacPermissions(),this.permissionsById=await yt(e)}finally{this.loading=!1}},async update(e){return await pt(e)},async createRole(e){return await _t(e)},async confirm(e){return await Vt(e.id)},async changePermissions(e,a){return await wt(e,a)}},getters:{}}),xt={__name:"RoleAdd",setup(e){const a=P(),n=K(),l=Me({id:0,name:"",level:0}),i=P(),u=[m=>!!m||"Level тўлдирилиши шарт",m=>!isNaN(m)||"Level рақам бўлиши керак"],s=[m=>!!m||"Name тўлиқ исмини киритинг"],d=W(null);function c(){a.isCreatingRole=!1,d.value&&d.value.reset()}async function f(){d.value.validate()&&(await a.createRole(l),n.success("Фойдаланувчи мувофаққиятли қўшилди"),a.isCreatingRole=!1,d.value.reset(),await i.fetchRbacRole(),await i.fetchRbacPermissions())}return(m,r)=>(p(),O(de,{"model-value":V(a).isCreatingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[t(X,{flat:""},{default:o(()=>[t(ue,null,{append:o(()=>[t(w,{icon:"",onClick:c},{default:o(()=>[t(le,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[t(re,{color:"primary",dark:"",height:"64"},{default:o(()=>r[2]||(r[2]=[k(" Yangi Role qo'shish ")])),_:1})]),_:1}),t(B,null,{default:o(()=>[t(X,{flat:""},{default:o(()=>[t(B,null,{default:o(()=>[t(be,{ref_key:"form",ref:d,onSubmit:ne(f,["prevent"])},{default:o(()=>[t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(J,{id:"level",modelValue:l.level,"onUpdate:modelValue":r[0]||(r[0]=h=>l.level=h),rules:u,density:"compact",label:"Level",name:"level",outlined:"",required:""},null,8,["modelValue"])]),_:1}),t(T,{cols:"12"},{default:o(()=>[t(J,{id:"name",modelValue:l.name,"onUpdate:modelValue":r[1]||(r[1]=h=>l.name=h),rules:s,density:"compact",label:"Name",name:"name",outlined:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(w,{class:"mt-5",color:"primary",type:"submit"},{default:o(()=>r[3]||(r[3]=[k(" Qo'shish ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Rt={__name:"RoleDelete",setup(e){const a=P(),n=P(),l=K(),{currentRole:i}=oe(a);function u(){i.value={},a.isDeletingRole=!1}async function s(){await a.confirm(i.value)&&(l.success("Muvaffaqiyatli o'chirildi"),await n.fetchRbacRole(),await n.fetchRbacPermissions(),u())}return(d,c)=>(p(),O(de,{"model-value":V(a).isDeletingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[t(X,{flat:""},{default:o(()=>[t(ue,null,{append:o(()=>[t(w,{icon:"",onClick:u},{default:o(()=>[t(le,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[t(re,{color:"primary",dark:"",height:"64"},{default:o(()=>c[0]||(c[0]=[k(" Rolni o'chirish ")])),_:1})]),_:1}),t(B,null,{default:o(()=>[t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(w,{class:"mx-2",color:"error",onClick:s},{default:o(()=>c[1]||(c[1]=[k(" Tasdiqlash ")])),_:1}),t(w,{class:"mx-2",color:"secondary",onClick:u},{default:o(()=>c[2]||(c[2]=[k(" Bekor qilish ")])),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},Ct={__name:"RoleEdit",setup(e){const a=P(),n=K(),{currentRole:l}=oe(a),i=W(null),u=[f=>!!f||"Name тўлиқ исмини киритинг"],s=[f=>!!f||"Level тўлдирилиши шарт",f=>!isNaN(f)||"Level рақам бўлиши керак"];function d(){a.isEditingRole=!1,l.value={},i.value&&i.value.reset()}async function c(){if(!i.value.validate())return;await a.update(l.value)&&(n.success("Muvofiqiyatli yangilandi."),d())}return(f,m)=>(p(),O(de,{"model-value":V(a).isEditingRole,class:"scrollable-content",persistent:"",scrollable:"",width:"1024"},{default:o(()=>[t(X,{flat:""},{default:o(()=>[t(ue,null,{append:o(()=>[t(w,{icon:"",onClick:d},{default:o(()=>[t(le,{icon:"tabler-x",size:"18"})]),_:1})]),default:o(()=>[t(re,{color:"primary",dark:"",height:"64"},{default:o(()=>m[2]||(m[2]=[k(" Фойдаланувчи маълумотларига ўзгартириш киритиш ")])),_:1})]),_:1}),t(B,null,{default:o(()=>[t(X,{flat:""},{default:o(()=>[t(B,null,{default:o(()=>[t(be,{ref_key:"form",ref:i,onSubmit:ne(c,["prevent"])},{default:o(()=>[t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(J,{id:"level",modelValue:V(l).level,"onUpdate:modelValue":m[0]||(m[0]=r=>V(l).level=r),rules:s,density:"compact",label:"Level of role",name:"level",outlined:"",required:""},null,8,["modelValue"])]),_:1}),t(T,{cols:"12"},{default:o(()=>[t(J,{id:"name",modelValue:V(l).name,"onUpdate:modelValue":m[1]||(m[1]=r=>V(l).name=r),rules:u,density:"compact",label:"Name",name:"name",outlined:"",required:""},null,8,["modelValue"])]),_:1})]),_:1}),t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(w,{class:"mt-5",color:"primary",type:"submit"},{default:o(()=>m[3]||(m[3]=[k(" Сақлаш ")])),_:1})]),_:1})]),_:1})]),_:1},512)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["model-value"]))}},kt={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},St={key:0},Tt=["colspan"],Bt={class:"border"},It={class:"cursor-pointer text-primary"},Pt={class:"border"},$t={class:"border"},Et={class:"border"},Wt=se({__name:"RolesList",setup(e){const a=P();function n(){a.isCreatingRole=!0}function l(u){a.isEditingRole=!0,a.currentRole=u}function i(u){a.isDeletingRole=!0,a.currentRole=u}return(u,s)=>(p(),S("div",null,[t(xt),t(Rt),t(Ct),v("section",null,[t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(B,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[s[1]||(s[1]=v("div",{class:"me-3",style:{width:"80px"}},null,-1)),t(ie),v("div",kt,[t(w,{"prepend-icon":"tabler-plus",onClick:ne(n,["prevent"])},{default:o(()=>s[0]||(s[0]=[k(" Add role ")])),_:1})])]),_:1}),t(B,null,{default:o(()=>[t(Ce,null,{default:o(()=>[s[2]||(s[2]=v("thead",null,[v("tr",null,[v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Id")]),v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Name")]),v("th",{class:"border",scope:"col"},[v("span",{class:"text-white"},"Level")]),v("th",{class:"border",scope:"col"})])],-1)),v("tbody",null,[V(a).loading?(p(),S("tr",St,[v("td",{colspan:V(a).roles.length},[t(Xe,{height:2,indeterminate:""})],8,Tt)])):De("",!0),(p(!0),S(z,null,Z(V(a).roles,d=>(p(),S("tr",{key:d.id},[v("td",Bt,[v("span",It,M(d.id),1)]),v("td",Pt,M(d.name),1),v("td",$t,M(d.level),1),v("td",Et,[v("div",null,[t(w,{color:"warning",density:"default",icon:"mdi-pencil-circle",size:"x-large",variant:"plain",onClick:c=>l(d)},null,8,["onClick"]),t(w,{color:"error",density:"default",icon:"mdi-delete",size:"x-large",variant:"plain",onClick:c=>i(d)},null,8,["onClick"])])])]))),128))])]),_:1})]),_:1})]),_:1})]),_:1})])]))}}),Yt={class:"cursor-pointer text-primary"},Lt=se({__name:"Routes",setup(e){const a=P();return(n,l)=>(p(),S("section",null,[t(Y,null,{default:o(()=>[t(T,{cols:"12"},{default:o(()=>[t(B,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[l[0]||(l[0]=v("div",{class:"me-3",style:{width:"80px"}},null,-1)),t(ie),l[1]||(l[1]=v("div",{class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},null,-1))]),_:1}),t(B,null,{default:o(()=>[t(Ce,{class:"overflow-x-auto",style:{"max-height":"60vh"}},{default:o(()=>[l[2]||(l[2]=v("thead",null,[v("tr",null,[v("th",{scope:"col"}," Id "),v("th",{scope:"col"}," Routes ")])],-1)),(p(!0),S(z,null,Z(V(a).permissions,(i,u)=>(p(),S("tbody",{key:u},[(p(!0),S(z,null,Z(V(a).permissions,s=>(p(),S("tr",{key:s.id},[v("td",null,[v("span",Yt,M(s.id),1)]),v("td",null,M(s.endpoint),1)]))),128))]))),128))]),_:1})]),_:1})]),_:1})]),_:1})]))}}),Mt={class:"font-weight-bold"},Xt=se({__name:"AppendedPermissions",setup(e){const a=P(),{permissions:n,permissionsById:l}=oe(a),i=K(),u=W(1);async function s(){a.permissions.forEach(f=>{l.value.forEach(m=>{f.id===m.id&&(f.isPermitted=!0)})})}async function d(){const f=[];n.value.forEach(r=>{r.isPermitted&&f.push(r.id)}),await a.changePermissions(f,u.value)&&i.success("Menyu ruxsatnomalari muvaffaqiyatli o'zgartirildi")}async function c(f){await a.fetchRbacPermissionsById(f),await s()}return ge(()=>{c(u.value)}),(f,m)=>(p(),O(X,{flat:""},{default:o(()=>[t(ve,null,{default:o(()=>[t(Y,null,{default:o(()=>[t(T,{cols:"12",md:"4"}),t(T,{class:"mt-3",cols:"12",md:"8"},{default:o(()=>[t(ft,{modelValue:u.value,"onUpdate:modelValue":[m[0]||(m[0]=r=>u.value=r),m[1]||(m[1]=r=>c(u.value))],items:V(a).roles,"aria-autocomplete":"off",autocomplete:"off",dense:"","item-title":"name","item-value":"id",outlined:""},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1}),(p(!0),S(z,null,Z(V(n),(r,h)=>(p(),S("div",{key:r.id,class:"gap-3 align-center ml-5 my-1 d-flex"},[v("span",Mt,M(h+1)+") ",1),t(mt,{modelValue:r.isPermitted,"onUpdate:modelValue":b=>r.isPermitted=b,label:` ${r==null?void 0:r.name}`,class:"font-weight-bold"},null,8,["modelValue","onUpdate:modelValue","label"]),v("span",null,"path: "+M(r==null?void 0:r.endpoint),1)]))),128)),t(ve,null,{default:o(()=>[t(ie),t(w,{color:"primary",onClick:d},{default:o(()=>m[2]||(m[2]=[k(" change permissions ")])),_:1})]),_:1})]),_:1}))}}),ce=Symbol.for("vuetify:v-tabs"),Dt=N({fixed:Boolean,sliderColor:String,hideSlider:Boolean,direction:{type:String,default:"horizontal"},...ye(He({selectedClass:"v-tab--selected",variant:"text"}),["active","block","flat","location","position","symbol"])},"VTab"),Q=q()({name:"VTab",props:Dt(),setup(e,a){let{slots:n,attrs:l}=a;const{textColorClasses:i,textColorStyles:u}=Ae(e,"sliderColor"),s=W(),d=W(),c=x(()=>e.direction==="horizontal"),f=x(()=>{var r,h;return((h=(r=s.value)==null?void 0:r.group)==null?void 0:h.isSelected.value)??!1});function m(r){var b,g;let{value:h}=r;if(h){const R=(g=(b=s.value)==null?void 0:b.$el.parentElement)==null?void 0:g.querySelector(".v-tab--selected .v-tab__slider"),H=d.value;if(!R||!H)return;const j=getComputedStyle(R).color,$=R.getBoundingClientRect(),E=H.getBoundingClientRect(),y=c.value?"x":"y",_=c.value?"X":"Y",C=c.value?"right":"bottom",I=c.value?"width":"height",Pe=$[y],$e=E[y],A=Pe>$e?$[C]-E[C]:$[y]-E[y],Ee=Math.sign(A)>0?c.value?"right":"bottom":Math.sign(A)<0?c.value?"left":"top":"center",We=(Math.abs(A)+(Math.sign(A)<0?$[I]:E[I]))/Math.max($[I],E[I])||0,Ye=$[I]/E[I]||0,fe=1.5;ze(H,{backgroundColor:[j,"currentcolor"],transform:[`translate${_}(${A}px) scale${_}(${Ye})`,`translate${_}(${A/fe}px) scale${_}(${(We-1)/fe+1})`,"none"],transformOrigin:Array(3).fill(Ee)},{duration:225,easing:Ne})}}return F(()=>{const r=w.filterProps(e);return t(w,U({symbol:ce,ref:s,class:["v-tab",e.class],style:e.style,tabindex:f.value?0:-1,role:"tab","aria-selected":String(f.value),active:!1},r,l,{block:e.fixed,maxWidth:e.fixed?300:void 0,"onGroup:selected":m}),{...n,default:()=>{var h;return t(z,null,[((h=n.default)==null?void 0:h.call(n))??e.text,!e.hideSlider&&t("div",{ref:d,class:["v-tab__slider",i.value],style:u.value},null)])}})}),Ue({},s)}}),Ht=e=>{const{touchstartX:a,touchendX:n,touchstartY:l,touchendY:i}=e,u=.5,s=16;e.offsetX=n-a,e.offsetY=i-l,Math.abs(e.offsetY)<u*Math.abs(e.offsetX)&&(e.left&&n<a-s&&e.left(e),e.right&&n>a+s&&e.right(e)),Math.abs(e.offsetX)<u*Math.abs(e.offsetY)&&(e.up&&i<l-s&&e.up(e),e.down&&i>l+s&&e.down(e))};function At(e,a){var l;const n=e.changedTouches[0];a.touchstartX=n.clientX,a.touchstartY=n.clientY,(l=a.start)==null||l.call(a,{originalEvent:e,...a})}function Ut(e,a){var l;const n=e.changedTouches[0];a.touchendX=n.clientX,a.touchendY=n.clientY,(l=a.end)==null||l.call(a,{originalEvent:e,...a}),Ht(a)}function zt(e,a){var l;const n=e.changedTouches[0];a.touchmoveX=n.clientX,a.touchmoveY=n.clientY,(l=a.move)==null||l.call(a,{originalEvent:e,...a})}function Nt(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const a={touchstartX:0,touchstartY:0,touchendX:0,touchendY:0,touchmoveX:0,touchmoveY:0,offsetX:0,offsetY:0,left:e.left,right:e.right,up:e.up,down:e.down,start:e.start,move:e.move,end:e.end};return{touchstart:n=>At(n,a),touchend:n=>Ut(n,a),touchmove:n=>zt(n,a)}}function qt(e,a){var d;const n=a.value,l=n!=null&&n.parent?e.parentElement:e,i=(n==null?void 0:n.options)??{passive:!0},u=(d=a.instance)==null?void 0:d.$.uid;if(!l||!u)return;const s=Nt(a.value);l._touchHandlers=l._touchHandlers??Object.create(null),l._touchHandlers[u]=s,_e(s).forEach(c=>{l.addEventListener(c,s[c],i)})}function Ft(e,a){var u,s;const n=(u=a.value)!=null&&u.parent?e.parentElement:e,l=(s=a.instance)==null?void 0:s.$.uid;if(!(n!=null&&n._touchHandlers)||!l)return;const i=n._touchHandlers[l];_e(i).forEach(d=>{n.removeEventListener(d,i[d])}),delete n._touchHandlers[l]}const ke={mounted:qt,unmounted:Ft},Se=Symbol.for("vuetify:v-window"),Te=Symbol.for("vuetify:v-window-group"),Be=N({continuous:Boolean,nextIcon:{type:[Boolean,String,Function,Object],default:"$next"},prevIcon:{type:[Boolean,String,Function,Object],default:"$prev"},reverse:Boolean,showArrows:{type:[Boolean,String],validator:e=>typeof e=="boolean"||e==="hover"},touch:{type:[Object,Boolean],default:void 0},direction:{type:String,default:"horizontal"},modelValue:null,disabled:Boolean,selectedClass:{type:String,default:"v-window-item--active"},mandatory:{type:[Boolean,String],default:"force"},...pe(),...Ve(),...qe()},"VWindow"),ae=q()({name:"VWindow",directives:{Touch:ke},props:Be(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const{themeClasses:l}=Fe(e),{isRtl:i}=Ge(),{t:u}=Oe(),s=je(e,Te),d=W(),c=x(()=>i.value?!e.reverse:e.reverse),f=ee(!1),m=x(()=>{const y=e.direction==="vertical"?"y":"x",C=(c.value?!f.value:f.value)?"-reverse":"";return`v-window-${y}${C}-transition`}),r=ee(0),h=W(void 0),b=x(()=>s.items.value.findIndex(y=>s.selected.value.includes(y.id)));Qe(b,(y,_)=>{const C=s.items.value.length,I=C-1;C<=2?f.value=y<_:y===I&&_===0?f.value=!0:y===0&&_===I?f.value=!1:f.value=y<_}),Je(Se,{transition:m,isReversed:f,transitionCount:r,transitionHeight:h,rootRef:d});const g=x(()=>e.continuous||b.value!==0),R=x(()=>e.continuous||b.value!==s.items.value.length-1);function H(){g.value&&s.prev()}function j(){R.value&&s.next()}const $=x(()=>{const y=[],_={icon:i.value?e.nextIcon:e.prevIcon,class:`v-window__${c.value?"right":"left"}`,onClick:s.prev,"aria-label":u("$vuetify.carousel.prev")};y.push(g.value?n.prev?n.prev({props:_}):t(w,_,null):t("div",null,null));const C={icon:i.value?e.prevIcon:e.nextIcon,class:`v-window__${c.value?"left":"right"}`,onClick:s.next,"aria-label":u("$vuetify.carousel.next")};return y.push(R.value?n.next?n.next({props:C}):t(w,C,null):t("div",null,null)),y}),E=x(()=>e.touch===!1?e.touch:{...{left:()=>{c.value?H():j()},right:()=>{c.value?j():H()},start:_=>{let{originalEvent:C}=_;C.stopPropagation()}},...e.touch===!0?{}:e.touch});return F(()=>we(t(e.tag,{ref:d,class:["v-window",{"v-window--show-arrows-on-hover":e.showArrows==="hover"},l.value,e.class],style:e.style},{default:()=>{var y,_;return[t("div",{class:"v-window__container",style:{height:h.value}},[(y=n.default)==null?void 0:y.call(n,{group:s}),e.showArrows!==!1&&t("div",{class:"v-window__controls"},[$.value])]),(_=n.additional)==null?void 0:_.call(n,{group:s})]}}),[[Ze("touch"),E.value]])),{group:s}}}),Gt=N({...ye(Be(),["continuous","nextIcon","prevIcon","showArrows","touch","mandatory"])},"VTabsWindow"),Ot=q()({name:"VTabsWindow",props:Gt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{slots:n}=a;const l=xe(ce,null),i=Re(e,"modelValue"),u=x({get(){var s;return i.value!=null||!l?i.value:(s=l.items.value.find(d=>l.selected.value.includes(d.id)))==null?void 0:s.value},set(s){i.value=s}});return F(()=>{const s=ae.filterProps(e);return t(ae,U({_as:"VTabsWindow"},s,{modelValue:u.value,"onUpdate:modelValue":d=>u.value=d,class:["v-tabs-window",e.class],style:e.style,mandatory:!1,touch:!1}),n)}),{}}}),Ie=N({reverseTransition:{type:[Boolean,String],default:void 0},transition:{type:[Boolean,String],default:void 0},...pe(),...Ke(),...et()},"VWindowItem"),G=q()({name:"VWindowItem",directives:{Touch:ke},props:Ie(),emits:{"group:selected":e=>!0},setup(e,a){let{slots:n}=a;const l=xe(Se),i=tt(e,Te),{isBooted:u}=vt();if(!l||!i)throw new Error("[Vuetify] VWindowItem must be used inside VWindow");const s=ee(!1),d=x(()=>u.value&&(l.isReversed.value?e.reverseTransition!==!1:e.transition!==!1));function c(){!s.value||!l||(s.value=!1,l.transitionCount.value>0&&(l.transitionCount.value-=1,l.transitionCount.value===0&&(l.transitionHeight.value=void 0)))}function f(){var g;s.value||!l||(s.value=!0,l.transitionCount.value===0&&(l.transitionHeight.value=te((g=l.rootRef.value)==null?void 0:g.clientHeight)),l.transitionCount.value+=1)}function m(){c()}function r(g){s.value&&ot(()=>{!d.value||!s.value||!l||(l.transitionHeight.value=te(g.clientHeight))})}const h=x(()=>{const g=l.isReversed.value?e.reverseTransition:e.transition;return d.value?{name:typeof g!="string"?l.transition.value:g,onBeforeEnter:f,onAfterEnter:c,onEnterCancelled:m,onBeforeLeave:f,onAfterLeave:c,onLeaveCancelled:m,onEnter:r}:!1}),{hasContent:b}=at(e,i.isSelected);return F(()=>t(nt,{transition:h.value,disabled:!u.value},{default:()=>{var g;return[we(t("div",{class:["v-window-item",i.selectedClass.value,e.class],style:e.style},[b.value&&((g=n.default)==null?void 0:g.call(n))]),[[lt,i.isSelected.value]])]}})),{groupItem:i}}}),jt=N({...Ie()},"VTabsWindowItem"),Qt=q()({name:"VTabsWindowItem",props:jt(),setup(e,a){let{slots:n}=a;return F(()=>{const l=G.filterProps(e);return t(G,U({_as:"VTabsWindowItem"},l,{class:["v-tabs-window-item",e.class],style:e.style}),n)}),{}}});function Jt(e){return e?e.map(a=>ct(a)?a:{text:a,value:a}):[]}const Zt=N({alignTabs:{type:String,default:"start"},color:String,fixedTabs:Boolean,items:{type:Array,default:()=>[]},stacked:Boolean,bgColor:String,grow:Boolean,height:{type:[Number,String],default:void 0},hideSlider:Boolean,sliderColor:String,...ht({mandatory:"force",selectedClass:"v-tab-item--selected"}),...st(),...Ve()},"VTabs"),Kt=q()({name:"VTabs",props:Zt(),emits:{"update:modelValue":e=>!0},setup(e,a){let{attrs:n,slots:l}=a;const i=Re(e,"modelValue"),u=x(()=>Jt(e.items)),{densityClasses:s}=it(e),{backgroundColorClasses:d,backgroundColorStyles:c}=ut(L(e,"bgColor")),{scopeId:f}=rt();return dt({VTab:{color:L(e,"color"),direction:L(e,"direction"),stacked:L(e,"stacked"),fixed:L(e,"fixedTabs"),sliderColor:L(e,"sliderColor"),hideSlider:L(e,"hideSlider")}}),F(()=>{const m=he.filterProps(e),r=!!(l.window||e.items.length>0);return t(z,null,[t(he,U(m,{modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,class:["v-tabs",`v-tabs--${e.direction}`,`v-tabs--align-tabs-${e.alignTabs}`,{"v-tabs--fixed-tabs":e.fixedTabs,"v-tabs--grow":e.grow,"v-tabs--stacked":e.stacked},s.value,d.value,e.class],style:[{"--v-tabs-height":te(e.height)},c.value,e.style],role:"tablist",symbol:ce},f,n),{default:()=>{var h;return[((h=l.default)==null?void 0:h.call(l))??u.value.map(b=>{var g;return((g=l.tab)==null?void 0:g.call(l,{item:b}))??t(Q,U(b,{key:b.text,value:b.value}),{default:l[`tab.${b.value}`]?()=>{var R;return(R=l[`tab.${b.value}`])==null?void 0:R.call(l,{item:b})}:void 0})})]}}),r&&t(Ot,U({modelValue:i.value,"onUpdate:modelValue":h=>i.value=h,key:"tabs-window"},f),{default:()=>{var h;return[u.value.map(b=>{var g;return((g=l.item)==null?void 0:g.call(l,{item:b}))??t(Qt,{value:b.value},{default:()=>{var R;return(R=l[`item.${b.value}`])==null?void 0:R.call(l,{item:b})}})}),(h=l.window)==null?void 0:h.call(l)]}})])}),{}}}),va={__name:"index",setup(e){const a=P(),n=W(0);return ge(()=>{a.fetchRbacRole(),a.fetchRbacPermissions()}),(l,i)=>(p(),O(X,null,{default:o(()=>[t(B,null,{default:o(()=>[t(Kt,{modelValue:V(n),"onUpdate:modelValue":i[0]||(i[0]=u=>me(n)?n.value=u:null),class:"v-tabs-pill",grow:""},{default:o(()=>[t(Q,null,{default:o(()=>i[2]||(i[2]=[k(" Роли ")])),_:1}),t(Q,null,{default:o(()=>i[3]||(i[3]=[k(" Роуты ")])),_:1}),t(Q,null,{default:o(()=>i[4]||(i[4]=[k(" Добавленные разрешения ")])),_:1})]),_:1},8,["modelValue"]),t(B,null,{default:o(()=>[t(ae,{modelValue:V(n),"onUpdate:modelValue":i[1]||(i[1]=u=>me(n)?n.value=u:null)},{default:o(()=>[t(G,{value:0},{default:o(()=>[t(Wt)]),_:1}),t(G,{value:1},{default:o(()=>[t(Lt)]),_:1}),t(G,{value:2},{default:o(()=>[t(Xt)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}))}};export{va as default};
