import{_ as Z}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{a8 as U,a9 as I,aq as O,aa as Y,ab as N,ar as E,as as Q,ac as R,b as a,at as G,au as J,af as X,ag as W,ai as aa,Y as ea,av as ta,aw as la,aj as oa,ax as ia,ay as na,X as $,az as sa,aA as P,aB as B,aC as da,r as b,w as M,o as F,f as ua,e as l,s as w,V as ra,a3 as h,$ as ma,d as i,t as r,aD as fa,aE as H,c as va,a1 as ca,aF as ga,p as ba,aG as Va,m as ya}from"./index-CiDOeLWu.js";import{V as _a}from"./VImg-B3pZFRRB.js";import{c as pa,d as K,V as z,b as ka}from"./VCard-n0D_yEal.js";import{V as D,a as s}from"./VRow-D_iISvjp.js";import{V as x}from"./VDivider-CuGzcyap.js";import{V as xa,a as j}from"./filter-BFoz8CfN.js";import{V as ha,a as Ta}from"./VDataTableVirtual-DCNim1Bg.js";import"./VAvatar-D4RwvDF8.js";import"./VList-DapNqBtX.js";import"./VCheckboxBtn-D_8YvquD.js";import"./VChip-Bs9IQbnU.js";const Da=U({fluid:{type:Boolean,default:!1},...I(),...O(),...Y()},"VContainer"),Sa=N()({name:"VContainer",props:Da(),setup(e,g){let{slots:o}=g;const{rtlClasses:v}=E(),{dimensionStyles:u}=Q(e);return R(()=>a(e.tag,{class:["v-container",{"v-container--fluid":e.fluid},v.value,e.class],style:[u.value,e.style]},o)),{}}}),Ca=U({text:String,...I(),...Y()},"VToolbarTitle"),L=N()({name:"VToolbarTitle",props:Ca(),setup(e,g){let{slots:o}=g;return R(()=>{const v=!!(o.default||o.text||e.text);return a(e.tag,{class:["v-toolbar-title",e.class],style:e.style},{default:()=>{var u;return[v&&a("div",{class:"v-toolbar-title__placeholder"},[o.text?o.text():e.text,(u=o.default)==null?void 0:u.call(o)])]}})}),{}}}),Ba=[null,"prominent","default","comfortable","compact"],wa=U({absolute:Boolean,collapse:Boolean,color:String,density:{type:String,default:"default",validator:e=>Ba.includes(e)},extended:Boolean,extensionHeight:{type:[Number,String],default:48},flat:Boolean,floating:Boolean,height:{type:[Number,String],default:64},image:String,title:String,...G(),...I(),...J(),...X(),...Y({tag:"header"}),...W()},"VToolbar"),Pa=N()({name:"VToolbar",props:wa(),setup(e,g){var S;let{slots:o}=g;const{backgroundColorClasses:v,backgroundColorStyles:u}=aa(ea(e,"color")),{borderClasses:c}=ta(e),{elevationClasses:V}=la(e),{roundedClasses:m}=oa(e),{themeClasses:t}=ia(e),{rtlClasses:f}=E(),y=na(!!(e.extended||(S=o.extension)!=null&&S.call(o))),_=$(()=>parseInt(Number(e.height)+(e.density==="prominent"?Number(e.height):0)-(e.density==="comfortable"?8:0)-(e.density==="compact"?16:0),10)),T=$(()=>y.value?parseInt(Number(e.extensionHeight)+(e.density==="prominent"?Number(e.extensionHeight):0)-(e.density==="comfortable"?4:0)-(e.density==="compact"?8:0),10):0);return sa({VBtn:{variant:"text"}}),R(()=>{var k;const p=!!(e.title||o.title),n=!!(o.image||e.image),d=(k=o.extension)==null?void 0:k.call(o);return y.value=!!(e.extended||d),a(e.tag,{class:["v-toolbar",{"v-toolbar--absolute":e.absolute,"v-toolbar--collapse":e.collapse,"v-toolbar--flat":e.flat,"v-toolbar--floating":e.floating,[`v-toolbar--density-${e.density}`]:!0},v.value,c.value,V.value,m.value,t.value,f.value,e.class],style:[u.value,e.style]},{default:()=>[n&&a("div",{key:"image",class:"v-toolbar__image"},[o.image?a(P,{key:"image-defaults",disabled:!e.image,defaults:{VImg:{cover:!0,src:e.image}}},o.image):a(_a,{key:"image-img",cover:!0,src:e.image},null)]),a(P,{defaults:{VTabs:{height:B(_.value)}}},{default:()=>{var C,q,A;return[a("div",{class:"v-toolbar__content",style:{height:B(_.value)}},[o.prepend&&a("div",{class:"v-toolbar__prepend"},[(C=o.prepend)==null?void 0:C.call(o)]),p&&a(L,{key:"title",text:e.title},{text:o.title}),(q=o.default)==null?void 0:q.call(o),o.append&&a("div",{class:"v-toolbar__append"},[(A=o.append)==null?void 0:A.call(o)])])]}}),a(P,{defaults:{VTabs:{height:B(T.value)}}},{default:()=>[a(da,null,{default:()=>[y.value&&a("div",{class:"v-toolbar__extension",style:{height:B(T.value)}},[d])]})]})]})}),{contentHeight:_,extensionHeight:T}}}),za={class:"info-value"},Ua={class:"info-value"},Ia={class:"info-value"},Ya={class:"info-value"},Na={class:"info-value"},Ra={class:"info-value"},qa={class:"info-value"},Aa={class:"info-value"},$a={class:"info-value"},Ma={class:"info-value"},Ha={class:"info-value"},ja={class:"info-value"},Ea={class:"info-value"},Fa={__name:"infoDataDialog",props:{modelValue:Boolean,data:{type:Object,required:!0}},emits:["update:modelValue"],setup(e,{emit:g}){const o=e,v=g,u=b(o.modelValue);M(()=>o.modelValue,m=>u.value=m),M(u,m=>v("update:modelValue",m));function c(m){return m?new Date(m).toLocaleDateString("uz-UZ",{year:"numeric",month:"long",day:"numeric"}):"-"}function V(m){return m?new Date(m).toLocaleString("uz-UZ",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"-"}return(m,t)=>(F(),ua(xa,{modelValue:u.value,"onUpdate:modelValue":t[2]||(t[2]=f=>u.value=f),"max-width":"1200",transition:"dialog-bottom-transition"},{default:l(()=>[a(z,null,{default:l(()=>[a(Pa,{flat:"",color:"primary",dark:""},{default:l(()=>[a(L,{class:"text-h6 font-weight-medium text-white"},{default:l(()=>t[3]||(t[3]=[w(" Qabul tafsilotlari ")])),_:1}),a(ra),a(h,{variant:"text",onClick:t[0]||(t[0]=f=>u.value=!1)},{default:l(()=>[a(ma,null,{default:l(()=>t[4]||(t[4]=[w("mdi-close")])),_:1})]),_:1})]),_:1}),a(pa,{class:"pa-6"},{default:l(()=>[a(Sa,{fluid:""},{default:l(()=>[a(D,null,{default:l(()=>[a(s,{cols:"12"},{default:l(()=>[t[5]||(t[5]=i("div",{class:"text-subtitle-1 font-weight-medium mb-2"}," Bemor ma’lumotlari ",-1)),a(x)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[6]||(t[6]=i("div",{class:"info-label"}," F.I.SH: ",-1)),i("div",za,r(e.data.patient_fullname),1)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[7]||(t[7]=i("div",{class:"info-label"}," Tug‘ilgan sana: ",-1)),i("div",Ua,r(c(e.data.birth_date)),1)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[8]||(t[8]=i("div",{class:"info-label"}," Telefon: ",-1)),i("div",Ia,r(e.data.phone),1)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>{var f;return[t[9]||(t[9]=i("div",{class:"info-label"}," Bo‘lim: ",-1)),i("div",Ya,r((f=e.data.department)==null?void 0:f.name),1)]}),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[10]||(t[10]=i("div",{class:"info-label"}," Shifokor: ",-1)),i("div",Na,r(e.data.doctor_name_text),1)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[11]||(t[11]=i("div",{class:"info-label"}," Qabul sanasi: ",-1)),i("div",Ra,r(c(e.data.date))+" (Slot №"+r(e.data.slot_no)+") ",1)]),_:1}),a(s,{cols:"12"},{default:l(()=>[t[12]||(t[12]=i("div",{class:"info-label"}," Tashxis: ",-1)),i("div",qa,r(e.data.diagnosis),1)]),_:1}),a(s,{cols:"12"},{default:l(()=>[t[13]||(t[13]=i("div",{class:"info-label"}," Maqsad: ",-1)),i("div",Aa,r(e.data.purpose),1)]),_:1})]),_:1}),a(x,{class:"my-4"}),a(D,null,{default:l(()=>[a(s,{cols:"12"},{default:l(()=>[t[14]||(t[14]=i("div",{class:"text-subtitle-1 font-weight-medium mb-2"}," Izohlar ",-1)),a(x)]),_:1}),a(s,{cols:"12"},{default:l(()=>[t[15]||(t[15]=i("div",{class:"info-label text-red-darken-2"}," Bosh shifokor uchun: ",-1)),i("div",$a,r(e.data.note_for_head),1)]),_:1}),a(s,{cols:"12"},{default:l(()=>[t[16]||(t[16]=i("div",{class:"info-label text-blue-darken-2"}," Bemor uchun eslatma: ",-1)),i("div",Ma,r(e.data.note_public),1)]),_:1})]),_:1}),a(x,{class:"my-4"}),a(D,null,{default:l(()=>[a(s,{cols:"12"},{default:l(()=>[t[17]||(t[17]=i("div",{class:"text-subtitle-1 font-weight-medium mb-2"}," Tizim ma’lumotlari ",-1)),a(x)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[18]||(t[18]=i("div",{class:"info-label"}," Yaratilgan: ",-1)),i("div",Ha,r(V(e.data.created_at)),1)]),_:1}),a(s,{cols:"12",sm:"6"},{default:l(()=>[t[19]||(t[19]=i("div",{class:"info-label"}," Yangilangan: ",-1)),i("div",ja,r(V(e.data.updated_at)),1)]),_:1}),a(s,{cols:"12"},{default:l(()=>{var f,y,_;return[t[20]||(t[20]=i("div",{class:"info-label"}," Yaratgan foydalanuvchi: ",-1)),i("div",Ea,r((f=e.data.created_by_user)==null?void 0:f.full_name)+" ("+r((_=(y=e.data.created_by_user)==null?void 0:y.user)==null?void 0:_.username)+") ",1)]}),_:1})]),_:1})]),_:1})]),_:1}),a(x),a(K,{class:"pa-4 justify-end"},{default:l(()=>[a(h,{variant:"outlined",color:"primary",onClick:t[1]||(t[1]=f=>u.value=!1)},{default:l(()=>t[21]||(t[21]=[w(" Yopish ")])),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]))}},Ka=Z(Fa,[["__scopeId","data-v-4963cd60"]]),La=fa("appointments",{state:()=>({headers:[{title:"id",align:"start",key:"id"},{title:"Bemor ismi",align:"start",key:"patient_fullname"},{title:"Tashxis",align:"start",key:"diagnosis"},{title:"Maqsad",align:"start",key:"purpose"},{title:"Shifokor",align:"start",key:"doctor.full_name"},{title:"Bo‘lim",align:"start",key:"department.name"},{title:"Sana",align:"start",key:"date"},{title:"Amallar",align:"end",key:"actions",sortable:!1}]}),actions:{}}),Za={class:"d-flex"},ne={__name:"index",setup(e){const g=La(),o=b(!1),v=b(null),u=b(null),c=H({page:1,itemsPerPage:10}),V=b(!1),m=b({department_id:1,date:"2025-10-19",slot_no:5,doctor_id:1,patient_fullname:"Aliyev Jasur Baxtiyorovich",birth_date:"1985-03-15",diagnosis:"ORVI, yuqori nafas yo'llari infeksiyasi, gripp belgisi",phone:"+998 90 123 45 67",purpose:"Umumiy tekshiruv va konsultatsiya",doctor_name_text:"Dr. Karimov Aziz",note_for_head:"Bemor maxsus e'tibor talab qiladi, surunkali kasallik tarixi mavjud",note_public:"Qabul oldidan 2 soat ovqat iste'mol qilmaslik tavsiya etiladi",id:12345,created_by_user:{id:10,full_name:"Rahimova Dilnoza",user:{username:"d.rahimova"}},created_at:"2025-10-15T09:30:00.000Z",updated_at:"2025-10-18T14:45:00.000Z",department:{name:"Terapiya bo'limi",default_quota:30,is_active:!0,id:1},doctor:{id:1,full_name:"Karimov Aziz Shavkatovich",user:{username:"a.karimov"}}}),t=H({department_id:null,for_month:null,local_code_id:null}),f=b(!1),y=b([{full_name:"Dilnoza Jo‘rayeva",loan_agent_id:1},{full_name:"Azizbek To‘xtasinov",loan_agent_id:2},{full_name:"Nodirbek Rahmonov",loan_agent_id:3}]),_=async p=>{if(!p)return;const n=new Date(p),d=n.getFullYear(),k=String(n.getMonth()+1).padStart(2,"0"),C=String(n.getDate()).padStart(2,"0");v.value=`${d}-${k}-${C}`,o.value=!1},T=b([{department_id:3,date:"2025-10-18",id:1,patient_fullname:"Karimov Diyorbek Kenzo",birth_date:"1998-04-23",diagnosis:"Yengil bronxit",phone:"+99890 123 45 67",purpose:"Shifokor ko‘rigiga yozilish",doctor:{full_name:"Nodirbek Rahmonov"},department:{name:"Terapiya bo‘limi"}},{department_id:5,id:2,date:"2025-10-19",patient_fullname:"Islomov Anvarbek Shoxrux",birth_date:"1985-11-15",diagnosis:"Yurak aritmiyasi",phone:"+99891 765 43 21",purpose:"Yurak tekshiruvi",doctor:{full_name:"Saodat Gulomova"},department:{name:"Kardiologiya bo‘limi"}}]),S=()=>{console.log("here")};return(p,n)=>(F(),va("div",null,[a(z,{class:"ma-2",flat:""},{default:l(()=>[a(D,{class:"pa-2 align-center"},{default:l(()=>[a(ka,{class:"mr-4"},{default:l(()=>n[8]||(n[8]=[i("span",null,"📊 Umumiy ma'lumotlar",-1)])),_:1}),a(s,{cols:"12",md:"3"},{default:l(()=>[a(j,{modelValue:t.department_id,"onUpdate:modelValue":n[0]||(n[0]=d=>t.department_id=d),label:"Departament",items:y.value,"item-title":"full_name","item-value":"loan_agent_id",clearable:""},null,8,["modelValue","items"])]),_:1}),a(s,{cols:"12",md:"3"},{default:l(()=>[a(ca,{modelValue:o.value,"onUpdate:modelValue":n[3]||(n[3]=d=>o.value=d),"close-on-content-click":!1,transition:"scale-transition","offset-y":"","min-width":"auto"},{activator:l(({props:d})=>[a(ga,ba({modelValue:v.value,"onUpdate:modelValue":n[1]||(n[1]=k=>v.value=k),label:"Дата (YYYY-MM-DD)"},d,{"prepend-inner-icon":"mdi-calendar",placeholder:"2025-10-14"}),null,16,["modelValue"])]),default:l(()=>[a(Va,{modelValue:u.value,"onUpdate:modelValue":[n[2]||(n[2]=d=>u.value=d),_],color:"primary"},null,8,["modelValue"])]),_:1},8,["modelValue"])]),_:1}),a(s,{cols:"12",md:"3",class:"d-flex justify-end"},{default:l(()=>[a(h,{color:"primary",onClick:S},{default:l(()=>n[9]||(n[9]=[w(" Ma'lumot qo'shish ")])),_:1})]),_:1})]),_:1}),a(D,{dense:""},{default:l(()=>[a(s,{cols:"12"},{default:l(()=>[a(z,{flat:""},{default:l(()=>[a(x),a(ha,{headers:ya(g).headers,items:T.value,loading:f.value,height:"70vh","loading-text":"Загрузка...","no-data-text":"Данные не найдены"},{"item.actions":l(({item:d})=>[i("div",Za,[a(h,{icon:"mdi-eye-outline",variant:"plain",color:"info",onClick:n[4]||(n[4]=k=>V.value=!0)}),a(h,{icon:"mdi-pencil-circle",variant:"plain",color:"warning"}),a(h,{icon:"mdi-delete",variant:"plain",color:"error"})])]),_:1},8,["headers","items","loading"]),a(K,{class:"w-full d-flex justify-space-between mt-2"},{default:l(()=>[a(j,{modelValue:c.itemsPerPage,"onUpdate:modelValue":[n[5]||(n[5]=d=>c.itemsPerPage=d),p.loadData],items:[10,20,50],label:"Har bir sahifa","max-width":"150"},null,8,["modelValue","onUpdate:modelValue"]),a(Ta,{modelValue:c.page,"onUpdate:modelValue":[n[6]||(n[6]=d=>c.page=d),p.loadData],length:Math.ceil(p.totalItems/c.itemsPerPage),"total-visible":4,rounded:"circle"},null,8,["modelValue","length","onUpdate:modelValue"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1}),a(Ka,{modelValue:V.value,"onUpdate:modelValue":n[7]||(n[7]=d=>V.value=d),data:m.value},null,8,["modelValue","data"])]))}};export{ne as default};
